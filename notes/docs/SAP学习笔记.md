---
title: "SAP学习笔记"
date: 2025-06-15  # 可选，手动指定日期
layout: default      # 可选，指定布局（如 `post` 或 `default`）
categories: [SAP]  # 可选，添加分类
---
# SAP学习笔记

## 一、财务会计（FI）模块

### 1.1 总分类账（General Ledger）

#### 知识点
- **科目表**：企业财务科目的清单。
- **会计凭证**：记录每笔财务交易的凭证。
- **过账**：更新总分类账和相关明细账的过程。

#### 操作步骤
1. 创建会计凭证：
   - 使用事务代码 `F-02`，输入凭证日期、记账日期、凭证类型等信息。
   - 输入记账码、科目编码、金额及文本说明。
2. 检查与保存凭证：
   - 核对信息，使用快捷键 `Ctrl + F3` 进行检查。
   - 确认无误后点击保存或按 `F11` 键。
3. 过账操作：
   - 使用事务代码 `FB00`，输入凭证编号执行过账操作。

#### 案例
某企业购买办公用品花费 1000 元，以银行存款支付：
- 记账码 50（贷方）表示银行存款减少。
- 记账码 40（借方）表示办公用品费用增加。
- 过账后，总分类账中银行存款科目减少 1000 元，办公用品费用科目增加 1000 元。

---

### 1.2 应收账款（Accounts Receivable）

#### 知识点
- **客户主数据**：包含客户的基本信息、财务信息、销售信息等。
- **发票处理**：创建销售发票后，系统自动生成应收账款分录。
- **收款处理**：收到客户款项时，核销相应的应收账款。
- **账龄分析**：对应收账款按账龄进行分类分析。

#### 操作步骤
1. 维护客户主数据：
   - 使用事务代码 `XD02`，设置付款条件、信用额度等。
2. 创建销售发票：
   - 使用事务代码 `VF01`，输入销售订单号生成发票。
3. 收款处理：
   - 使用事务代码 `F-28`，选择客户编号并核销发票。
4. 账龄分析：
   - 执行事务代码 `F.05`，运行报表分析应收账款分布。

#### 案例
企业向客户 A 销售产品，金额为 5000 元：
- 开具销售发票，系统生成会计凭证，借记应收账款 - 客户 A 5000 元，贷记销售收入 5000 元。
- 收到客户 A 的付款 5000 元，系统核销该笔应收账款，同时生成会计凭证，借记银行存款 5000 元，贷记应收账款 - 客户 A 5000 元。

---

### 1.3 应付账款（Accounts Payable）

#### 知识点
- **供应商主数据**：包含供应商的基本信息、财务信息、采购信息等。
- **发票校验**：匹配发票信息与采购订单、收货信息。
- **付款处理**：根据付款条件和方式生成付款建议。
- **争议处理**：解决发票与采购订单或收货信息存在的差异。

#### 操作步骤
1. 维护供应商主数据：
   - 使用事务代码 `XK02`，设置付款条件、付款方式等。
2. 发票校验：
   - 使用事务代码 `MIRO`，输入供应商编号、发票信息等。
3. 付款处理：
   - 使用事务代码 `F110`，设置付款参数并运行付款建议。
4. 争议处理：
   - 若发现差异，通过事务代码 `MB05` 分析原因并调整。

#### 案例
企业向供应商 B 采购原材料，金额为 3000 元：
- 进行发票校验后，生成会计凭证，借记原材料 3000 元，贷记应付账款 - 供应商 B 3000 元。
- 到了付款日，运行付款程序，系统生成付款凭证，借记应付账款 - 供应商 B 3000 元，贷记银行存款 3000 元。

---

### 1.4 资产会计（Asset Accounting）

#### 知识点
- **资产主数据**：记录固定资产的详细信息。
- **资产购置**：记录资产的购置成本。
- **折旧计算**：系统自动计算每月或每年的折旧金额。
- **资产转移**：当资产在企业内部不同部门或地点之间转移时。
- **资产报废**：核销资产价值并记录相关损益。

#### 操作步骤
1. 创建资产主数据：
   - 使用事务代码 `AS01`，输入资产类别、资产编号等信息。
2. 资产购置：
   - 使用事务代码 `F-90`，输入资产编号、供应商编号等。
3. 折旧计算与过账：
   - 使用事务代码 `AFAB` 运行折旧计算程序。
4. 资产转移：
   - 使用事务代码 `ABUMN`，输入原资产编号、目标资产编号等。
5. 资产报废：
   - 使用事务代码 `ABAVN`，输入资产编号、报废原因等。

#### 案例
企业购置一台设备，价值 100000 元，使用年限为 10 年：
- 创建资产主数据，录入相关信息。
- 进行资产购置操作，生成会计凭证，借记固定资产 - 设备 100000 元，贷记银行存款 100000 元。
- 每月系统自动计算折旧金额为 833.33 元，生成折旧会计凭证，借记管理费用 - 折旧费 833.33 元，贷记累计折旧 - 设备 833.33 元。

---

## 二、物料管理（MM）模块

### 2.1 物料主数据（Material Master Data）

#### 知识点
- **基本数据视图**：记录物料的通用信息。
- **采购视图**：包含采购相关信息。
- **库存视图**：记录库存管理信息。
- **会计视图**：用于财务核算。

#### 操作步骤
1. 创建物料主数据：
   - 使用事务代码 `MM01`，输入行业领域、物料类型等信息。
2. 修改物料主数据：
   - 使用事务代码 `MM02`，输入物料编号修改信息。
3. 显示物料主数据：
   - 使用事务代码 `MM03`，查看详细内容。

#### 案例
某电子制造企业生产智能手机，创建手机屏幕的物料主数据：
- 基本数据视图：物料描述为 “XX 型号手机屏幕”，物料组为 “电子显示屏”。
- 采购视图：采购组为 “电子采购组”，主要供应商为 “供应商 A”。
- 库存视图：启用批次管理，设置库存地点为 “原材料仓库 1”。

---

### 2.2 采购管理（Purchasing）

#### 知识点
- **采购申请**：企业内部部门提出采购需求的单据。
- **采购订单**：向供应商发出的采购合同。
- **供应商评估**：对供应商的交货及时性、产品质量等进行评估。
- **收货**：收到供应商货物时，在系统中进行收货操作。
- **发票校验**：将供应商发票与采购订单、收货信息进行匹配。

#### 操作步骤
1. 创建采购申请：
   - 使用事务代码 `ME51N`，输入工厂、采购组等信息。
2. 创建采购订单：
   - 使用事务代码 `ME21N`，基于采购申请创建订单。
3. 供应商评估：
   - 使用事务代码 `ME60`，选择评估期间、维度等。
4. 收货操作：
   - 使用事务代码 `MIGO`，选择 “采购订单收货”。
5. 发票校验：
   - 使用事务代码 `MIRO`，输入供应商编号、发票信息等。

#### 案例
企业生产部门因生产计划，使用 `ME51N` 创建采购申请，申请采购 1000 个手机电池：
- 采购部门通过 `ME21N` 创建采购订单，规定单价为 50 元 / 个。
- 10 天后，仓库人员使用 `MIGO` 对收到的 1000 个手机电池进行收货操作。
- 收到供应商 B 的发票，财务人员通过 `MIRO` 进行发票校验，匹配成功后确认应付账款。

---

### 2.3 库存管理（Inventory Management）

#### 知识点
- **入库**：包括采购收货入库、生产入库、其他入库。
- **出库**：包括生产领料出库、销售出库、其他出库。
- **库存盘点**：定期对库存进行实地盘点。
- **库存转移**：物料在企业内部不同库存地点之间的转移。

#### 操作步骤
1. 入库操作：
   - 采购收货入库：使用事务代码 `MIGO`，选择 “采购订单收货”。
   - 生产入库：使用事务代码 `MIGO`，选择 “生产订单收货”。
   - 其他入库：使用事务代码 `MIGO`，选择 “其他收货”。
2. 出库操作：
   - 生产领料出库：使用事务代码 `MB1A`，选择移动类型（如 261）。
   - 销售出库：使用事务代码 `VL02N`，创建外向交货单。
   - 其他出库：使用事务代码 `MB1A`，选择移动类型（如 551）。
3. 库存盘点：
   - 创建盘点凭证：使用事务代码 `MI01`。
   - 录入盘点结果：使用事务代码 `MI04`。
   - 差异处理：使用事务代码 `MI20`。
4. 库存转移：
   - 一步式转移：使用事务代码 `MB1B`，选择移动类型（如 311）。
   - 两步式转移：先使用 MB1B 进行发出过账，再进行接收过账。

#### 案例
企业手机生产线生产完成 100 台手机：
- 使用 MIGO 进行生产入库操作，将成品手机入库到 “成品仓库”。
- 销售部门接到客户订单，通过 VL02N 创建外向交货单，完成 10 台手机的销售出库。

---

### 2.4 发票校验（Invoice Verification）

#### 知识点
- **发票匹配**：将供应商发票上的物料、数量、价格等信息与采购订单和收货单进行比对。
- **差异处理**：发票与采购订单或收货信息存在差异时的处理方法。
- **生成会计凭证**：发票校验通过后，系统自动生成会计凭证。

#### 操作步骤
1. 发票录入：
   - 使用事务代码 `MIRO`，输入供应商编号、发票日期等基本信息。
2. 选择匹配方式并匹配发票：
   - 根据业务需求选择匹配方式，选择对应的采购订单和收货单。
3. 差异处理：
   - 若存在差异，系统提示差异类型和金额，需核实情况并手动调整。
4. 过账发票：
   - 确认发票信息无误后，点击 “过账” 按钮生成会计凭证。

#### 案例
企业向供应商 C 采购一批电路板，采购订单数量为 500 块，单价为 100 元 / 块：
- 收货时实际收到 498 块，收到供应商 C 的发票，发票数量为 500 块，单价为 102 元 / 块。
- 财务人员使用 MIRO 进行发票校验，系统提示数量差异和价格差异。
- 经核实，确认数量差异是运输损耗，价格差异是供应商临时调价且已提前通知采购部门但未及时更新订单价格。

---

## 三、销售与分销（SD）模块

### 3.1 销售组织（Sales Organization）

#### 知识点
- **组织架构关系**：销售组织与分销渠道、产品组共同构成 SD 模块的组织架构。
- **业务职能**：制定销售策略、管理客户关系、处理销售订单、安排交货和开票等。

#### 操作步骤
1. 创建销售组织：
   - 使用 IMG 路径进入设置界面，点击 “新建” 按钮，输入销售组织代码、名称和所属公司代码。
2. 分配分销渠道和产品组：
   - 在 IMG 路径中分配分销渠道和产品组。

#### 案例
某大型家电制造企业创建了多个销售组织，分别对应不同的地理区域：
- 每个销售组织下设置了直销、批发等分销渠道，以及空调、冰箱等产品组。

---

### 3.2 客户主数据（Customer Master Data）

#### 知识点
- **数据视图分类**：一般数据视图、销售数据视图、公司代码数据视图。
- **信用管理**：通过客户主数据中的信用额度、信用期限等设置，结合信用控制范围，对客户进行信用评估和风险管控。

#### 操作步骤
1. 创建客户主数据：
   - 使用事务代码 `XD01`，输入客户名称、地址等基本信息。
2. 修改客户主数据：
   - 使用事务代码 `XD02`，输入客户编号修改信息。
3. 显示客户主数据：
   - 使用事务代码 `XD03`，查看详细内容。

#### 案例
某家具销售企业新开发了一家大型客户 “XX 家居连锁公司”：
- 使用 XD01 创建客户主数据，在一般数据视图录入客户公司名称、总部地址和联系人电话。
- 在销售数据视图，设置该客户属于 “零售” 分销渠道，采用特定的客户定价过程。
- 在公司代码数据视图，设定信用额度为 500 万元，付款条件为货到 45 天付款。

---

### 3.3 销售订单处理（Sales Order Processing）

#### 知识点
- **订单类型**：标准订单、寄售订单、加急订单等。
- **可用性检查**：确保企业有能力按时交付货物。
- **定价过程**：根据客户主数据中的定价条件、销售订单中的产品和数量等因素，自动计算订单价格。

#### 操作步骤
1. 创建销售订单：
   - 使用事务代码 `VA01`，选择订单类型，输入销售组织、分销渠道、产品组和售达方等信息。
2. 订单确认与可用性检查：
   - 系统自动进行可用性检查，若检查通过可在 VA02 中对订单进行最终确认。
3. 订单后续处理：
   - 确认后的订单可通过事务代码 VA03 查看详细信息，并触发后续的交货、开票等业务流程。

#### 案例
某服装销售企业接到客户 “时尚潮流服装店” 的订单，订购 1000 件新款 T 恤：
- 使用 VA01 创建标准销售订单，选择对应的销售组织、分销渠道和客户。
- 输入物料编号后，系统带出 T 恤的单价为 50 元 / 件，根据客户主数据中的折扣条件，自动计算出折扣后的总价。
- 系统进行可用性检查时，发现库存只有 800 件，企业通过 VA02 修改订单交货日期，并安排生产部门加急生产剩余的 200 件。

---

### 3.4 交货处理（Delivery Processing）

#### 知识点
- **交货单创建**：根据销售订单创建交货单。
- **拣配与发货**：从仓库中提取货物并进行发货过账。

#### 操作步骤
1. 创建交货单：
   - 使用事务代码 `VL01N`，输入销售订单编号，系统自动带出订单中的物料、客户等信息。
2. 拣配货物：
   - 使用事务代码 `LT06` 进行拣配操作，记录实际拣配的货物数量和批次等信息。
3. 发货过账：
   - 使用事务代码 `VL02N` 对交货单进行发货过账。

#### 案例
上述服装销售企业针对 “时尚潮流服装店” 的订单：
- 使用 VL01N 根据销售订单创建交货单。
- 仓库人员接到交货单后，使用 LT06 进行拣配，从仓库中挑选出 1000 件新款 T 恤。
- 拣配完成后，通过 VL02N 对交货单进行发货过账。

---

### 3.5 发票处理（Billing Processing）

#### 知识点
- **发票类型**：销售发票、贷项凭证、借项凭证等。
- **发票校验与过账**：生成发票后，需对发票内容进行校验，确保金额、物料等信息准确无误。

#### 操作步骤
1. 创建发票：
   - 使用事务代码 `VF01`，选择发票类型，输入交货单编号等信息。
2. 发票校验：
   - 使用事务代码 `VF02` 检查发票内容是否正确。
3. 发票过账：
   - 校验通过后，在 VF02 中点击 “过账” 按钮生成会计凭证。

#### 案例
服装销售企业在完成向 “时尚潮流服装店” 的货物交付后：
- 使用 VF01 根据交货单创建销售发票，系统自动计算发票金额为 50000 元，加上增值税 6500 元，合计总金额 56500 元。
- 财务人员通过 VF02 对发票进行校验，确认无误后进行过账操作。

---

## 四、HANA数据库

### 4.1 HANA数据库概述

#### 知识点
- **内存计算技术**：极大提升了数据处理速度，能够实现实时数据分析和复杂计算。
- **列存储与行存储**：列存储适用于数据分析场景，行存储则适用于事务处理。
- **多模型数据处理**：支持非结构化数据和空间数据的处理。

#### 案例
某电商企业每天产生海量的交易数据和用户行为数据：
- 使用 HANA 数据库后，基于内存计算技术，同样的数据分析任务在几分钟内即可完成，企业能够实时掌握销售趋势、用户偏好等信息。

---

### 4.2 HANA数据库架构

#### 知识点
- **硬件层**：通常采用高性能的服务器集群。
- **系统软件层**：包含操作系统、虚拟化软件等。
- **HANA数据库层**：核心部分，包括数据存储引擎、计算引擎、事务处理引擎等。
- **应用层**：用户通过各种应用程序访问 HANA 数据库。

#### 操作步骤
1. 硬件部署：
   - 配置多台具有高主频 CPU、大容量内存和高速 SSD 的服务器。
2. 系统软件安装：
   - 安装适合 HANA 运行的操作系统，配置好系统参数。
3. HANA数据库安装与配置：
   - 使用 HANA 安装包进行数据库安装，配置数据库实例。
4. 应用层部署：
   - 将开发好的应用程序部署到应用服务器上。

#### 案例
一家大型制造企业计划部署 HANA 数据库以支持其智能制造业务：
- 在硬件层，采购了 10 台高性能服务器组成集群。
- 在系统软件层，安装 SUSE Linux 操作系统和 VMware vSphere 虚拟化软件。
- 安装 HANA 数据库时，为数据库实例分配 300GB 内存。
- 最后，将企业自主开发的生产数据分析应用部署到应用服务器，连接 HANA 数据库。

---

### 4.3 HANA数据建模

#### 知识点
- **表和视图**：HANA 中的表分为行存储表和列存储表，视图是虚拟的表。
- **计算视图**：HANA 的核心建模对象，支持属性视图、分析视图和计算视图。
- **数据关系**：定义表与表之间的关联关系。

#### 操作步骤
1. 创建表：
   - 在 HANA Studio 中，右键点击模式，选择 “新建” → “表”。
2. 创建视图：
   - 同样在 HANA Studio 中，右键点击模式，选择 “新建” → “视图”。
3. 定义数据关系：
   - 在创建表时设置外键字段，并关联到主表的主键。

#### 案例
某零售企业使用 HANA 数据库管理销售数据：
- 创建了 “销售订单表”、“客户表” 和 “产品表”。
- 创建一个计算视图，将 “销售订单表” 与 “客户表” 通过客户编号关联，添加计算列计算每个客户的订单数量和总销售额。

---

### 4.4 HANA应用开发

#### 知识点
- **开发语言与技术**：支持 SQL、SQLScript、Java、Python 等。
- **应用接口**：提供 OData、JDBC/ODBC 等接口。
- **开发工具**：主要使用 HANA Studio 和 SAP Web IDE。

#### 操作步骤
1. 确定开发需求与技术选型：
   - 明确应用的功能需求，选择合适的开发语言和技术。
2. 数据库开发：
   - 在 HANA Studio 中编写存储过程、函数、视图等数据库对象。
3. 前端开发与集成：
   - 使用前端开发技术开发用户界面，通过 OData 接口与 HANA 数据库连接。
4. 测试与部署：
   - 对应用进行功能测试、性能测试和安全测试，测试通过后部署到生产环境。

#### 案例
某金融企业为了实现对客户信用风险的实时评估，基于 HANA 数据库进行应用开发：
- 后端使用 SQLScript 编写存储过程，从前端应用获取数据。
- 前端使用 SAPUI5 开发用户界面，通过 OData 接口获取后端计算的信用评分数据。
- 开发完成后，经过全面测试，将应用部署到企业的生产环境中。

--- 
