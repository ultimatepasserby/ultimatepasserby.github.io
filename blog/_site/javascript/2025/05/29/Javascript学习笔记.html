<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Javascript学习笔记</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Javascript学习笔记" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Javascript学习笔记" />
<meta property="og:description" content="Javascript学习笔记" />
<link rel="canonical" href="http://localhost:4000/blog/javascript/2025/05/29/Javascript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" />
<meta property="og:url" content="http://localhost:4000/blog/javascript/2025/05/29/Javascript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-05-29T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Javascript学习笔记" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-05-29T00:00:00+08:00","datePublished":"2025-05-29T00:00:00+08:00","description":"Javascript学习笔记","headline":"Javascript学习笔记","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/javascript/2025/05/29/Javascript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"},"url":"http://localhost:4000/blog/javascript/2025/05/29/Javascript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/blog/feed.xml" /></head>
<body><a href="/" class="home-link">返回简历主页</a>
<!-- 确保自定义样式被加载 -->
<link rel="stylesheet" href="/blog/assets/css/main.scss"><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Javascript学习笔记</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2025-05-29T00:00:00+08:00" itemprop="datePublished">May 29, 2025
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="javascript学习笔记">Javascript学习笔记</h1>

<h3 id="一基础语法与核心概念">一、基础语法与核心概念</h3>

<h4 id="1-变量与作用域">1. 变量与作用域</h4>
<ul>
  <li><strong>变量声明</strong>：
    <ul>
      <li><code class="language-plaintext highlighter-rouge">let</code> 和 <code class="language-plaintext highlighter-rouge">const</code> 具有块级作用域，即它们的作用范围被限制在最近的一对花括号 <code class="language-plaintext highlighter-rouge">{}</code> 内。</li>
      <li><code class="language-plaintext highlighter-rouge">var</code> 具有函数作用域，它的作用范围是整个函数。
```javascript
// let 和 const 的块级作用域
{
let blockScopedLet = ‘I am block scoped with let’;
const blockScopedConst = ‘I am block scoped with const’;
}
// 下面这两行会报错，因为变量超出了作用域
// console.log(blockScopedLet); 
// console.log(blockScopedConst);</li>
    </ul>
  </li>
</ul>

<p>// var 的函数作用域
function varScopeExample() {
  var functionScopedVar = ‘I am function scoped with var’;
}
// 下面这行会报错，因为变量超出了函数作用域
// console.log(functionScopedVar);</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- **作用域链**：JavaScript 采用词法作用域，变量的查找是从当前作用域开始，逐级向上查找，直到全局作用域。
```javascript
function outerFunction() {
  let outerVariable = 'I am from outer function';
  function innerFunction() {
    console.log(outerVariable); // 可以访问外层函数的变量
  }
  innerFunction();
}
outerFunction();
</code></pre></div></div>
<ul>
  <li><strong>垃圾回收</strong>：JavaScript 采用标记清除算法进行垃圾回收，当一个对象没有任何引用指向它时，它会被标记为可回收的，然后在适当的时候被回收。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">createObject</span><span class="p">()</span> <span class="p">{</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="na">key</span><span class="p">:</span> <span class="dl">'</span><span class="s1">value</span><span class="dl">'</span> <span class="p">};</span>
<span class="k">return</span> <span class="nx">obj</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="nf">createObject</span><span class="p">();</span>
<span class="nx">myObj</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">// 释放对对象的引用，对象可能会被垃圾回收</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="2-数据类型与操作">2. 数据类型与操作</h4>
<ul>
  <li><strong>原始类型</strong>：JavaScript 有 7 种原始类型，分别是 <code class="language-plaintext highlighter-rouge">string</code>、<code class="language-plaintext highlighter-rouge">number</code>、<code class="language-plaintext highlighter-rouge">boolean</code>、<code class="language-plaintext highlighter-rouge">null</code>、<code class="language-plaintext highlighter-rouge">undefined</code>、<code class="language-plaintext highlighter-rouge">bigint</code> 和 <code class="language-plaintext highlighter-rouge">symbol</code>。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">str</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Hello, World!</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// string</span>
<span class="kd">let</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span> <span class="c1">// number</span>
<span class="kd">let</span> <span class="nx">bool</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// boolean</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">// null</span>
<span class="kd">let</span> <span class="nx">u</span><span class="p">;</span> <span class="c1">// undefined</span>
<span class="kd">let</span> <span class="nx">big</span> <span class="o">=</span> <span class="mi">123456789012345678901234567890</span><span class="nx">n</span><span class="p">;</span> <span class="c1">// bigint</span>
<span class="kd">let</span> <span class="nx">sym</span> <span class="o">=</span> <span class="nc">Symbol</span><span class="p">(</span><span class="dl">'</span><span class="s1">unique</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// symbol</span>
</code></pre></div>    </div>
  </li>
  <li><strong>引用类型</strong>：常见的引用类型有 <code class="language-plaintext highlighter-rouge">Object</code>、<code class="language-plaintext highlighter-rouge">Array</code>、<code class="language-plaintext highlighter-rouge">Function</code>、<code class="language-plaintext highlighter-rouge">Date</code> 等。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">John</span><span class="dl">'</span><span class="p">,</span> <span class="na">age</span><span class="p">:</span> <span class="mi">30</span> <span class="p">};</span> <span class="c1">// Object</span>
<span class="kd">let</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span> <span class="c1">// Array</span>
<span class="kd">function</span> <span class="nf">func</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">I am a function</span><span class="dl">'</span><span class="p">);</span> <span class="p">}</span> <span class="c1">// Function</span>
<span class="kd">let</span> <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">();</span> <span class="c1">// Date</span>
</code></pre></div>    </div>
  </li>
  <li><strong>类型转换</strong>：JavaScript 有隐式和显式的类型转换。<code class="language-plaintext highlighter-rouge">===</code> 是严格相等运算符，会同时比较值和类型。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 隐式转换</span>
<span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">5</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// 结果是 '55'，数字 5 被隐式转换为字符串</span>
<span class="c1">// 显式检查</span>
<span class="kd">let</span> <span class="nx">num1</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">str1</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">5</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">num1</span> <span class="o">===</span> <span class="nx">str1</span><span class="p">);</span> <span class="c1">// false，值相同但类型不同</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="3-函数与执行机制">3. 函数与执行机制</h4>
<ul>
  <li><strong>函数定义</strong>：可以使用声明式、表达式或箭头函数来定义函数。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 声明式函数</span>
<span class="kd">function</span> <span class="nf">declarationFunction</span><span class="p">()</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">I am a declaration function</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 函数表达式</span>
<span class="kd">let</span> <span class="nx">expressionFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">I am an expression function</span><span class="dl">'</span><span class="p">);</span>
<span class="p">};</span>
<span class="c1">// 箭头函数</span>
<span class="kd">let</span> <span class="nx">arrowFunction</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">I am an arrow function</span><span class="dl">'</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>    </div>
  </li>
  <li><strong>高阶函数</strong>：<code class="language-plaintext highlighter-rouge">map</code>、<code class="language-plaintext highlighter-rouge">filter</code> 和 <code class="language-plaintext highlighter-rouge">reduce</code> 是常见的高阶函数，它们接受一个函数作为参数。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="c1">// map 方法</span>
<span class="kd">let</span> <span class="nx">squared</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="nx">num</span> <span class="o">=&gt;</span> <span class="nx">num</span> <span class="o">*</span> <span class="nx">num</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">squared</span><span class="p">);</span> <span class="c1">// [1, 4, 9]</span>
<span class="c1">// filter 方法</span>
<span class="kd">let</span> <span class="nx">evenNumbers</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="nx">num</span> <span class="o">=&gt;</span> <span class="nx">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">evenNumbers</span><span class="p">);</span> <span class="c1">// [2]</span>
<span class="c1">// reduce 方法</span>
<span class="kd">let</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">num</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">sum</span><span class="p">);</span> <span class="c1">// 6</span>
</code></pre></div>    </div>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">this</code> 动态绑定</strong>：可以使用 <code class="language-plaintext highlighter-rouge">call</code>、<code class="language-plaintext highlighter-rouge">apply</code> 和 <code class="language-plaintext highlighter-rouge">bind</code> 方法来显式绑定 <code class="language-plaintext highlighter-rouge">this</code>。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
<span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">John</span><span class="dl">'</span><span class="p">,</span>
<span class="na">sayHello</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Hello, my name is </span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">anotherPerson</span> <span class="o">=</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Jane</span><span class="dl">'</span> <span class="p">};</span>
<span class="c1">// 使用 call 方法</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">sayHello</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="nx">anotherPerson</span><span class="p">);</span> <span class="c1">// Hello, my name is Jane</span>
<span class="c1">// 使用 apply 方法</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">sayHello</span><span class="p">.</span><span class="nf">apply</span><span class="p">(</span><span class="nx">anotherPerson</span><span class="p">);</span> <span class="c1">// Hello, my name is Jane</span>
<span class="c1">// 使用 bind 方法</span>
<span class="kd">let</span> <span class="nx">boundFunction</span> <span class="o">=</span> <span class="nx">person</span><span class="p">.</span><span class="nx">sayHello</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="nx">anotherPerson</span><span class="p">);</span>
<span class="nf">boundFunction</span><span class="p">();</span> <span class="c1">// Hello, my name is Jane</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="二核心进阶特性">二、核心进阶特性</h3>

<h4 id="1-异步编程">1. 异步编程</h4>
<ul>
  <li><strong>回调函数</strong>：使用 <code class="language-plaintext highlighter-rouge">setTimeout</code> 等函数时会使用回调函数，但可能会导致回调地狱。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">First timeout</span><span class="dl">'</span><span class="p">);</span>
<span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Second timeout</span><span class="dl">'</span><span class="p">);</span>
  <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Third timeout</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Promise</strong>：<code class="language-plaintext highlighter-rouge">Promise</code> 可以实现链式调用，避免回调地狱。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">asyncOperation</span><span class="p">()</span> <span class="p">{</span>
<span class="k">return</span> <span class="k">new</span> <span class="nc">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">resolve</span><span class="p">(</span><span class="dl">'</span><span class="s1">Async operation completed</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">});</span>
<span class="p">}</span>
<span class="nf">asyncOperation</span><span class="p">()</span>
 <span class="p">.</span><span class="nf">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
  <span class="k">return</span> <span class="dl">'</span><span class="s1">Chained operation</span><span class="dl">'</span><span class="p">;</span>
<span class="p">})</span>
 <span class="p">.</span><span class="nf">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})</span>
 <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Async/Await</strong>：<code class="language-plaintext highlighter-rouge">async/await</code> 提供了同步化的写法，使异步代码更易读。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">asyncOperation</span><span class="p">()</span> <span class="p">{</span>
<span class="k">return</span> <span class="k">new</span> <span class="nc">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">resolve</span><span class="p">(</span><span class="dl">'</span><span class="s1">Async operation completed</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">});</span>
<span class="p">}</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">asyncOperation</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">}</span>
<span class="nf">main</span><span class="p">();</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="2-闭包与模块化">2. 闭包与模块化</h4>
<ul>
  <li><strong>闭包本质</strong>：闭包是函数和其词法环境的组合，可以实现私有变量。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">createCounter</span><span class="p">()</span> <span class="p">{</span>
<span class="kd">let</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// 闭包保护的私有变量</span>
<span class="k">return </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">count</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">counter</span> <span class="o">=</span> <span class="nf">createCounter</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nf">counter</span><span class="p">());</span> <span class="c1">// 0</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nf">counter</span><span class="p">());</span> <span class="c1">// 1</span>
</code></pre></div>    </div>
  </li>
  <li><strong>模块化方案</strong>：ES Modules 使用 <code class="language-plaintext highlighter-rouge">import</code> 和 <code class="language-plaintext highlighter-rouge">export</code> 来实现模块化。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// module.js</span>
<span class="k">export</span> <span class="kd">function</span> <span class="nf">sayHello</span><span class="p">()</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello from module</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// main.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">sayHello</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./module.js</span><span class="dl">'</span><span class="p">;</span>
<span class="nf">sayHello</span><span class="p">();</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="3-面向对象与原型">3. 面向对象与原型</h4>
<ul>
  <li><strong>构造函数 vs <code class="language-plaintext highlighter-rouge">class</code> 语法糖</strong>：<code class="language-plaintext highlighter-rouge">class</code> 是构造函数的语法糖。
```javascript
// 构造函数
function Person(name, age) {
this.name = name;
this.age = age;
this.sayHello = function() {
  console.log(<code class="language-plaintext highlighter-rouge">Hello, my name is ${this.name}</code>);
};
}
let person1 = new Person(‘John’, 30);
person1.sayHello();</li>
</ul>

<p>// class 语法糖
class PersonClass {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  sayHello() {
    console.log(<code class="language-plaintext highlighter-rouge">Hello, my name is ${this.name}</code>);
  }
}
let person2 = new PersonClass(‘Jane’, 25);
person2.sayHello();</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- **原型链继承**：可以使用 `Object.create()` 和 `prototype` 来实现原型链继承。
```javascript
let animal = {
  eat() {
    console.log('Animal is eating');
  }
};
let rabbit = Object.create(animal);
rabbit.eat(); // Animal is eating
</code></pre></div></div>

<h3 id="三浏览器环境-api">三、浏览器环境 API</h3>

<h4 id="1-dom-操作">1. DOM 操作</h4>
<ul>
  <li><strong>节点查询</strong>：可以使用 <code class="language-plaintext highlighter-rouge">querySelector</code> 和 <code class="language-plaintext highlighter-rouge">getElementById</code> 来查询 DOM 节点。
```html
&lt;!DOCTYPE html&gt;</li>
</ul>
<html lang="en">
<head>
  <meta charset="UTF-8" />
</head>
<body>
  <div id="myDiv">This is a div</div>
  <script>
    // 使用 getElementById
    let divById = document.getElementById('myDiv');
    console.log(divById.textContent);
    // 使用 querySelector
    let divByQuery = document.querySelector('#myDiv');
    console.log(divByQuery.textContent);
  </script>
</body>
</html>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- **事件委托**：事件委托可以高效处理动态元素。
```html
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;ul id="list"&gt;
    &lt;li&gt;Item 1&lt;/li&gt;
    &lt;li&gt;Item 2&lt;/li&gt;
    &lt;li&gt;Item 3&lt;/li&gt;
  &lt;/ul&gt;
  &lt;script&gt;
    let list = document.getElementById('list');
    list.addEventListener('click', function(event) {
      if (event.target.tagName === 'LI') {
        console.log(`Clicked on ${event.target.textContent}`);
      }
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div></div>

<h4 id="2-bom-对象">2. BOM 对象</h4>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">window</code></strong>：<code class="language-plaintext highlighter-rouge">window</code> 是浏览器的全局对象，包含 <code class="language-plaintext highlighter-rouge">location</code> 和 <code class="language-plaintext highlighter-rouge">history</code> 等属性。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 获取当前页面的 URL</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
<span class="c1">// 前进到历史记录中的下一页</span>
<span class="c1">// window.history.forward();</span>
</code></pre></div>    </div>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">fetch</code></strong>：<code class="language-plaintext highlighter-rouge">fetch</code> 是现代网络请求 API，替代了 XMLHttpRequest。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://jsonplaceholder.typicode.com/todos/1</span><span class="dl">'</span><span class="p">)</span>
 <span class="p">.</span><span class="nf">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nf">json</span><span class="p">())</span>
 <span class="p">.</span><span class="nf">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
 <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="3-存储机制">3. 存储机制</h4>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">localStorage</code></strong>：用于持久化存储数据，除非手动删除，否则数据不会过期。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 存储数据</span>
<span class="nx">localStorage</span><span class="p">.</span><span class="nf">setItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">John</span><span class="dl">'</span><span class="p">);</span>
<span class="c1">// 获取数据</span>
<span class="kd">let</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nf">getItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
<span class="c1">// 删除数据</span>
<span class="nx">localStorage</span><span class="p">.</span><span class="nf">removeItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">sessionStorage</code></strong>：用于会话级存储，当会话结束（关闭浏览器窗口）时，数据会被清除。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 存储数据</span>
<span class="nx">sessionStorage</span><span class="p">.</span><span class="nf">setItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Hello, session!</span><span class="dl">'</span><span class="p">);</span>
<span class="c1">// 获取数据</span>
<span class="kd">let</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">sessionStorage</span><span class="p">.</span><span class="nf">getItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li><strong>IndexedDB</strong>：用于结构化数据存储。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 打开数据库</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">indexedDB</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="dl">'</span><span class="s1">myDatabase</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">onsuccess</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">let</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Database opened successfully</span><span class="dl">'</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">onupgradeneeded</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">let</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">objectStore</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">createObjectStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">myObjectStore</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">keyPath</span><span class="p">:</span> <span class="dl">'</span><span class="s1">id</span><span class="dl">'</span> <span class="p">});</span>
<span class="nx">objectStore</span><span class="p">.</span><span class="nf">add</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">John</span><span class="dl">'</span> <span class="p">});</span>
<span class="p">};</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="四工程化与最佳实践">四、工程化与最佳实践</h3>

<h4 id="1-代码质量">1. 代码质量</h4>
<ul>
  <li><strong>ESLint 规则</strong>：ESLint 可以强制代码风格一致性。
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 安装 ESLint</span>
npm <span class="nb">install </span>eslint <span class="nt">--save-dev</span>
<span class="c"># 初始化 ESLint 配置</span>
npx eslint <span class="nt">--init</span>
</code></pre></div>    </div>
  </li>
  <li><strong>目录结构规范</strong>：推荐的目录结构如下：
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>src/
├── components/  # 组件化组织
├── utils/       # 工具函数
└── services/    # API服务层
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="2-安全实践">2. 安全实践</h4>
<ul>
  <li><strong>输入消毒</strong>：防止 XSS 攻击，转义 <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code> 标签。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">sanitizeInput</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="p">{</span>
<span class="k">return</span> <span class="nx">input</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/&lt;script&gt;/gi</span><span class="p">,</span> <span class="dl">'</span><span class="s1">&amp;lt;script&amp;gt;</span><span class="dl">'</span><span class="p">).</span><span class="nf">replace</span><span class="p">(</span><span class="sr">/&lt;</span><span class="se">\/</span><span class="sr">script&gt;/gi</span><span class="p">,</span> <span class="dl">'</span><span class="s1">&amp;lt;/script&amp;gt;</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">userInput</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">&lt;script&gt;alert("XSS attack")&lt;/script&gt;</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">sanitizedInput</span> <span class="o">=</span> <span class="nf">sanitizeInput</span><span class="p">(</span><span class="nx">userInput</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">sanitizedInput</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li><strong>CSP 策略</strong>：限制资源加载源。
```html
&lt;!DOCTYPE html&gt;</li>
</ul>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'" />
</head>
<body>
  <!-- 页面内容 -->
</body>
</html>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- **API 防护**：使用 HTTPS 和 JWT 认证。
```javascript
// 假设这是一个使用 JWT 认证的 API 请求
let token = 'your_jwt_token';
fetch('https://api.example.com/data', {
  headers: {
    'Authorization': `Bearer ${token}`
  }
})
 .then(response =&gt; response.json())
 .then(data =&gt; console.log(data))
 .catch(error =&gt; console.error(error));
</code></pre></div></div>

<h4 id="3-性能优化">3. 性能优化</h4>
<ul>
  <li><strong>防抖/节流</strong>：用于高频事件处理。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 防抖函数</span>
<span class="kd">function</span> <span class="nf">debounce</span><span class="p">(</span><span class="nx">func</span><span class="p">,</span> <span class="nx">delay</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">let</span> <span class="nx">timer</span><span class="p">;</span>
<span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">context</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">;</span>
  <span class="nf">clearTimeout</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
  <span class="nx">timer</span> <span class="o">=</span> <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">func</span><span class="p">.</span><span class="nf">apply</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
  <span class="p">},</span> <span class="nx">delay</span><span class="p">);</span>
<span class="p">};</span>
<span class="p">}</span>
<span class="c1">// 节流函数</span>
<span class="kd">function</span> <span class="nf">throttle</span><span class="p">(</span><span class="nx">func</span><span class="p">,</span> <span class="nx">limit</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">let</span> <span class="nx">inThrottle</span><span class="p">;</span>
<span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">context</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">;</span>
  <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">inThrottle</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">func</span><span class="p">.</span><span class="nf">apply</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
    <span class="nx">inThrottle</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">inThrottle</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">limit</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li><strong>虚拟 DOM</strong>：React 和 Vue 的核心优化原理。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 这是一个简化的虚拟 DOM 示例</span>
<span class="kd">class</span> <span class="nc">VNode</span> <span class="p">{</span>
<span class="nf">constructor</span><span class="p">(</span><span class="nx">tag</span><span class="p">,</span> <span class="nx">props</span><span class="p">,</span> <span class="nx">children</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">tag</span> <span class="o">=</span> <span class="nx">tag</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">props</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">children</span> <span class="o">=</span> <span class="nx">children</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">vnode</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">VNode</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">myDiv</span><span class="dl">'</span> <span class="p">},</span> <span class="p">[]);</span>
</code></pre></div>    </div>
  </li>
  <li><strong>代码分割</strong>：使用动态 <code class="language-plaintext highlighter-rouge">import()</code> 实现代码分割。
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 在需要的时候动态加载模块</span>
<span class="nx">button</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">sayHello</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./module.js</span><span class="dl">'</span><span class="p">);</span>
<span class="nf">sayHello</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="五现代工具链">五、现代工具链</h3>

<h4 id="1-开发环境">1. 开发环境</h4>
<ul>
  <li><strong>编辑器</strong>：推荐使用 VS Code，并安装 ESLint 和 Prettier 插件。</li>
  <li><strong>调试工具</strong>：可以使用 Chrome DevTools 进行性能分析。</li>
</ul>

<h4 id="2-框架生态">2. 框架生态</h4>
<ul>
  <li><strong>三大框架</strong>：React、Vue 和 Angular 各有特点。</li>
  <li><strong>元框架</strong>：Next.js 用于服务器端渲染（SSR），Nuxt.js 用于静态站点生成。</li>
</ul>

<h4 id="3-构建工具">3. 构建工具</h4>
<ul>
  <li><strong>打包器</strong>：Webpack 和 Vite 是常用的打包器。
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 安装 Webpack</span>
npm <span class="nb">install </span>webpack webpack-cli <span class="nt">--save-dev</span>
<span class="c"># 安装 Vite</span>
npm <span class="nb">install </span>vite <span class="nt">--save-dev</span>
</code></pre></div>    </div>
  </li>
  <li><strong>测试工具</strong>：Jest 用于单元测试，Cypress 用于端到端测试（E2E）。
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 安装 Jest</span>
npm <span class="nb">install </span>jest <span class="nt">--save-dev</span>
<span class="c"># 安装 Cypress</span>
npm <span class="nb">install </span>cypress <span class="nt">--save-dev</span>
</code></pre></div>    </div>
  </li>
</ul>

  </div><a class="u-url" href="/blog/javascript/2025/05/29/Javascript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <h2 class="footer-heading"></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name"></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
