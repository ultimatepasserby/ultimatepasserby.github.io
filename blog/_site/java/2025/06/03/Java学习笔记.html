<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Java学习笔记</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Java学习笔记" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Java学习笔记" />
<meta property="og:description" content="Java学习笔记" />
<link rel="canonical" href="http://localhost:4000/blog/java/2025/06/03/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" />
<meta property="og:url" content="http://localhost:4000/blog/java/2025/06/03/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-06-03T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Java学习笔记" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-06-03T00:00:00+08:00","datePublished":"2025-06-03T00:00:00+08:00","description":"Java学习笔记","headline":"Java学习笔记","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/java/2025/06/03/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"},"url":"http://localhost:4000/blog/java/2025/06/03/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/blog/feed.xml" /></head>
<body><a href="/" class="home-link">返回简历主页</a>
<!-- 确保自定义样式被加载 -->
<link rel="stylesheet" href="/blog/assets/css/main.scss"><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Java学习笔记</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2025-06-03T00:00:00+08:00" itemprop="datePublished">Jun 3, 2025
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="java学习笔记">Java学习笔记</h1>

<h3 id="一java基础-core-java">一、Java基础 (Core Java)</h3>

<h4 id="1-语法基础">1. 语法基础</h4>
<ul>
  <li><strong>数据类型</strong>：Java有基本数据类型（如<code class="language-plaintext highlighter-rouge">int</code>, <code class="language-plaintext highlighter-rouge">double</code>, <code class="language-plaintext highlighter-rouge">char</code>等）和引用数据类型（如类、接口、数组）。</li>
  <li><strong>变量</strong>：用于存储数据的容器，使用前需声明并赋值。</li>
  <li><strong>运算符</strong>：如算术运算符（<code class="language-plaintext highlighter-rouge">+</code>, <code class="language-plaintext highlighter-rouge">-</code>, <code class="language-plaintext highlighter-rouge">*</code>, <code class="language-plaintext highlighter-rouge">/</code>）、逻辑运算符（<code class="language-plaintext highlighter-rouge">&amp;&amp;</code>, <code class="language-plaintext highlighter-rouge">||</code>, <code class="language-plaintext highlighter-rouge">!</code>）等。</li>
  <li><strong>流程控制</strong>：包括<code class="language-plaintext highlighter-rouge">if/else</code>, <code class="language-plaintext highlighter-rouge">switch</code>, <code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">while</code>, <code class="language-plaintext highlighter-rouge">do-while</code>等语句，用于控制程序的执行流程。</li>
  <li><strong>数组</strong>：用于存储相同类型数据的有序集合。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SyntaxBasics</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 数据类型和变量</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
        <span class="kt">double</span> <span class="n">pi</span> <span class="o">=</span> <span class="mf">3.14</span><span class="o">;</span>
        <span class="kt">char</span> <span class="n">ch</span> <span class="o">=</span> <span class="sc">'A'</span><span class="o">;</span>

        <span class="c1">// 运算符</span>
        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">5</span><span class="o">;</span>

        <span class="c1">// 流程控制</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">&gt;</span> <span class="mi">15</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Result is greater than 15"</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Result is less than or equal to 15"</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">// 数组</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">5</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">value</span> <span class="o">:</span> <span class="n">arr</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">value</span> <span class="o">+</span> <span class="s">" "</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="2-面向对象编程oop">2. 面向对象编程(OOP)</h4>
<ul>
  <li><strong>核心概念</strong>
    <ul>
      <li><strong>类与对象</strong>：类是对象的抽象，对象是类的实例。</li>
      <li><strong>封装</strong>：将数据和操作数据的方法绑定在一起，隐藏对象的内部实现细节。</li>
      <li><strong>继承</strong>：子类继承父类的属性和方法，实现代码复用。</li>
      <li><strong>多态</strong>：同一个方法可以根据对象的不同类型表现出不同的行为。</li>
      <li><strong>抽象</strong>：抽象类和接口用于定义抽象方法，强制子类实现。</li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 抽象类</span>
<span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Animal</span> <span class="o">{</span>
    <span class="kd">protected</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Animal</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">makeSound</span><span class="o">();</span>
<span class="o">}</span>

<span class="c1">// 子类</span>
<span class="kd">class</span> <span class="nc">Dog</span> <span class="kd">extends</span> <span class="nc">Animal</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">Dog</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">makeSound</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">" says Woof!"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OOPExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Animal</span> <span class="n">dog</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Dog</span><span class="o">(</span><span class="s">"Buddy"</span><span class="o">);</span>
        <span class="n">dog</span><span class="o">.</span><span class="na">makeSound</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="3-常用类库">3. 常用类库</h4>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">Object</code>类</strong>：所有类的父类，提供了<code class="language-plaintext highlighter-rouge">toString()</code>, <code class="language-plaintext highlighter-rouge">equals()</code>, <code class="language-plaintext highlighter-rouge">hashCode()</code>等方法。</li>
  <li><strong>字符串</strong>：<code class="language-plaintext highlighter-rouge">String</code>是不可变的，<code class="language-plaintext highlighter-rouge">StringBuilder</code>和<code class="language-plaintext highlighter-rouge">StringBuffer</code>是可变的，<code class="language-plaintext highlighter-rouge">StringBuffer</code>是线程安全的。</li>
  <li><strong>包装类</strong>：将基本数据类型封装成对象，支持自动装箱和拆箱。</li>
  <li><strong>日期时间API</strong>：Java 8引入的<code class="language-plaintext highlighter-rouge">java.time</code>包提供了更方便的日期时间处理类。</li>
  <li><strong>异常处理</strong>：使用<code class="language-plaintext highlighter-rouge">try-catch-finally</code>块捕获和处理异常，也可以使用<code class="language-plaintext highlighter-rouge">try-with-resources</code>自动关闭资源。</li>
  <li><strong>泛型</strong>：提供类型安全，消除强制类型转换。</li>
  <li><strong>反射</strong>：在运行时获取类的信息，动态创建对象、调用方法和访问字段。</li>
  <li><strong>注解</strong>：为代码提供元数据，可用于编译时检查、运行时处理等。</li>
  <li><strong>I/O流</strong>：用于读写数据，分为字节流和字符流。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.io.FileReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.Method</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.time.LocalDate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="c1">// 注解</span>
<span class="nd">@interface</span> <span class="nc">MyAnnotation</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="nf">value</span><span class="o">();</span>
<span class="o">}</span>

<span class="c1">// 使用注解</span>
<span class="nd">@MyAnnotation</span><span class="o">(</span><span class="s">"Test Annotation"</span><span class="o">)</span>
<span class="kd">class</span> <span class="nc">MyClass</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printMessage</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello, World!"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommonLibraryExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Object类</span>
        <span class="nc">Object</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

        <span class="c1">// 字符串</span>
        <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">"Hello"</span><span class="o">;</span>
        <span class="nc">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">" World"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

        <span class="c1">// 包装类</span>
        <span class="nc">Integer</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span> <span class="c1">// 自动装箱</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">num</span><span class="o">;</span> <span class="c1">// 自动拆箱</span>

        <span class="c1">// 日期时间API</span>
        <span class="nc">LocalDate</span> <span class="n">today</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Today: "</span> <span class="o">+</span> <span class="n">today</span><span class="o">);</span>

        <span class="c1">// 异常处理</span>
        <span class="k">try</span> <span class="o">(</span><span class="nc">FileReader</span> <span class="n">fr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileReader</span><span class="o">(</span><span class="s">"test.txt"</span><span class="o">))</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">data</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">data</span> <span class="o">=</span> <span class="n">fr</span><span class="o">.</span><span class="na">read</span><span class="o">())</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span> <span class="n">data</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="c1">// 泛型</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Banana"</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">item</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">// 反射</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="nc">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span> <span class="o">=</span> <span class="nc">MyClass</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
            <span class="nc">Object</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getDeclaredConstructor</span><span class="o">().</span><span class="na">newInstance</span><span class="o">();</span>
            <span class="nc">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">"printMessage"</span><span class="o">);</span>
            <span class="n">method</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">instance</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="c1">// 注解</span>
        <span class="nc">MyClass</span> <span class="n">myClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyClass</span><span class="o">();</span>
        <span class="nc">MyAnnotation</span> <span class="n">annotation</span> <span class="o">=</span> <span class="n">myClass</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getAnnotation</span><span class="o">(</span><span class="nc">MyAnnotation</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">annotation</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Annotation value: "</span> <span class="o">+</span> <span class="n">annotation</span><span class="o">.</span><span class="na">value</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="二java集合框架-java-collections-framework">二、Java集合框架 (Java Collections Framework)</h3>

<h4 id="1-核心接口">1. 核心接口</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Collection</code>：是所有集合的根接口，定义了集合的基本操作。</li>
  <li><code class="language-plaintext highlighter-rouge">List</code>：有序集合，允许重复元素。</li>
  <li><code class="language-plaintext highlighter-rouge">Set</code>：无序集合，不允许重复元素。</li>
  <li><code class="language-plaintext highlighter-rouge">Queue</code>/<code class="language-plaintext highlighter-rouge">Deque</code>：队列和双端队列，用于实现先进先出（FIFO）或后进先出（LIFO）的操作。</li>
  <li><code class="language-plaintext highlighter-rouge">Map</code>：键值对的集合，键是唯一的。</li>
</ul>

<h4 id="2-常用实现类">2. 常用实现类</h4>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">List</code></strong>：<code class="language-plaintext highlighter-rouge">ArrayList</code>基于数组实现，随机访问快；<code class="language-plaintext highlighter-rouge">LinkedList</code>基于双向链表实现，插入删除快。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">Set</code></strong>：<code class="language-plaintext highlighter-rouge">HashSet</code>基于<code class="language-plaintext highlighter-rouge">HashMap</code>实现，无序；<code class="language-plaintext highlighter-rouge">TreeSet</code>基于红黑树实现，有序。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">Queue</code>/<code class="language-plaintext highlighter-rouge">Deque</code></strong>：<code class="language-plaintext highlighter-rouge">LinkedList</code>可作为队列和双端队列使用；<code class="language-plaintext highlighter-rouge">PriorityQueue</code>是优先队列。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">Map</code></strong>：<code class="language-plaintext highlighter-rouge">HashMap</code>基于数组+链表/红黑树实现，重点掌握其原理、哈希冲突和扩容；<code class="language-plaintext highlighter-rouge">ConcurrentHashMap</code>是线程安全的。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CollectionExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// List</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Banana"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Cherry"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"List: "</span> <span class="o">+</span> <span class="n">list</span><span class="o">);</span>

        <span class="c1">// Set</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Banana"</span><span class="o">);</span>
        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">);</span> <span class="c1">// 重复元素不会被添加</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Set: "</span> <span class="o">+</span> <span class="n">set</span><span class="o">);</span>

        <span class="c1">// Queue</span>
        <span class="nc">Queue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">);</span>
        <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Banana"</span><span class="o">);</span>
        <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Cherry"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Queue: "</span> <span class="o">+</span> <span class="n">queue</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Poll: "</span> <span class="o">+</span> <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">());</span>

        <span class="c1">// Map</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Banana"</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Cherry"</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Map: "</span> <span class="o">+</span> <span class="n">map</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="3-工具类">3. 工具类</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Collections</code>：提供了排序、查找、同步包装等方法。</li>
  <li><code class="language-plaintext highlighter-rouge">Arrays</code>：提供了操作数组的方法，如排序、查找等。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CollectionUtilsExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Collections工具类</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Sorted list: "</span> <span class="o">+</span> <span class="n">list</span><span class="o">);</span>

        <span class="c1">// Arrays工具类</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="o">{</span><span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">};</span>
        <span class="nc">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">arr</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Sorted array: "</span> <span class="o">+</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">arr</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="4-关键知识点">4. 关键知识点</h4>
<ul>
  <li><strong>迭代器</strong>：用于遍历集合元素。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">fail-fast</code>机制与<code class="language-plaintext highlighter-rouge">fail-safe</code>机制</strong>：<code class="language-plaintext highlighter-rouge">fail-fast</code>在集合结构发生变化时会抛出<code class="language-plaintext highlighter-rouge">ConcurrentModificationException</code>；<code class="language-plaintext highlighter-rouge">fail-safe</code>则不会。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">Comparable</code>与<code class="language-plaintext highlighter-rouge">Comparator</code>接口</strong>：用于定义对象的排序规则。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Person</span> <span class="kd">implements</span> <span class="nc">Comparable</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="nc">Person</span> <span class="n">other</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="na">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span> <span class="o">+</span> <span class="s">" ("</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span> <span class="s">")"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CollectionKeyPointsExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 迭代器</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Banana"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Cherry"</span><span class="o">);</span>
        <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
        <span class="o">}</span>

        <span class="c1">// Comparable接口</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">people</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">people</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"Alice"</span><span class="o">,</span> <span class="mi">25</span><span class="o">));</span>
        <span class="n">people</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"Bob"</span><span class="o">,</span> <span class="mi">20</span><span class="o">));</span>
        <span class="n">people</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"Charlie"</span><span class="o">,</span> <span class="mi">30</span><span class="o">));</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">people</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Sorted people: "</span> <span class="o">+</span> <span class="n">people</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="三java并发编程-java-concurrencymultithreading">三、Java并发编程 (Java Concurrency/Multithreading)</h3>

<h4 id="1-核心概念">1. 核心概念</h4>
<ul>
  <li><strong>进程 vs 线程</strong>：进程是程序在操作系统中的一次执行过程，线程是进程中的一个执行单元。</li>
  <li><strong>线程生命周期/状态</strong>：包括<code class="language-plaintext highlighter-rouge">NEW</code>, <code class="language-plaintext highlighter-rouge">RUNNABLE</code>, <code class="language-plaintext highlighter-rouge">BLOCKED</code>, <code class="language-plaintext highlighter-rouge">WAITING</code>, <code class="language-plaintext highlighter-rouge">TIMED_WAITING</code>, <code class="language-plaintext highlighter-rouge">TERMINATED</code>。</li>
  <li><strong>上下文切换</strong>：操作系统在多个线程之间切换执行上下文。</li>
</ul>

<h4 id="2-线程创建与使用">2. 线程创建与使用</h4>
<ul>
  <li><strong>继承<code class="language-plaintext highlighter-rouge">Thread</code>类</strong>：重写<code class="language-plaintext highlighter-rouge">run()</code>方法。</li>
  <li><strong>实现<code class="language-plaintext highlighter-rouge">Runnable</code>接口</strong>：实现<code class="language-plaintext highlighter-rouge">run()</code>方法。</li>
  <li><strong>实现<code class="language-plaintext highlighter-rouge">Callable</code>接口 + <code class="language-plaintext highlighter-rouge">Future</code>/<code class="language-plaintext highlighter-rouge">FutureTask</code></strong>：可返回结果。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.concurrent.*</span><span class="o">;</span>

<span class="c1">// 继承Thread类</span>
<span class="kd">class</span> <span class="nc">MyThread</span> <span class="kd">extends</span> <span class="nc">Thread</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread is running: "</span> <span class="o">+</span> <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 实现Runnable接口</span>
<span class="kd">class</span> <span class="nc">MyRunnable</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Runnable is running: "</span> <span class="o">+</span> <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 实现Callable接口</span>
<span class="kd">class</span> <span class="nc">MyCallable</span> <span class="kd">implements</span> <span class="nc">Callable</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">call</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Callable result"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThreadCreationExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ExecutionException</span><span class="o">,</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="c1">// 继承Thread类</span>
        <span class="nc">MyThread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyThread</span><span class="o">();</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>

        <span class="c1">// 实现Runnable接口</span>
        <span class="nc">MyRunnable</span> <span class="n">runnable</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyRunnable</span><span class="o">();</span>
        <span class="nc">Thread</span> <span class="n">runnableThread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="n">runnable</span><span class="o">);</span>
        <span class="n">runnableThread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>

        <span class="c1">// 实现Callable接口</span>
        <span class="nc">MyCallable</span> <span class="n">callable</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyCallable</span><span class="o">();</span>
        <span class="nc">ExecutorService</span> <span class="n">executor</span> <span class="o">=</span> <span class="nc">Executors</span><span class="o">.</span><span class="na">newSingleThreadExecutor</span><span class="o">();</span>
        <span class="nc">Future</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">future</span> <span class="o">=</span> <span class="n">executor</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="n">callable</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Callable result: "</span> <span class="o">+</span> <span class="n">future</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
        <span class="n">executor</span><span class="o">.</span><span class="na">shutdown</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="3-线程池">3. 线程池</h4>
<ul>
  <li><strong>核心原理</strong>：<code class="language-plaintext highlighter-rouge">ThreadPoolExecutor</code>及其核心参数（核心线程数、最大线程数、工作队列、拒绝策略、线程工厂、存活时间）。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">Executors</code>工厂类</strong>：常用但不推荐在生产环境直接使用，推荐手动创建<code class="language-plaintext highlighter-rouge">ThreadPoolExecutor</code>。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.concurrent.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThreadPoolExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ThreadPoolExecutor</span> <span class="n">executor</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ThreadPoolExecutor</span><span class="o">(</span>
                <span class="mi">2</span><span class="o">,</span> <span class="c1">// 核心线程数</span>
                <span class="mi">5</span><span class="o">,</span> <span class="c1">// 最大线程数</span>
                <span class="mi">60</span><span class="o">,</span> <span class="c1">// 线程存活时间</span>
                <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">SECONDS</span><span class="o">,</span>
                <span class="k">new</span> <span class="nc">LinkedBlockingQueue</span><span class="o">&lt;&gt;(</span><span class="mi">10</span><span class="o">),</span> <span class="c1">// 工作队列</span>
                <span class="nc">Executors</span><span class="o">.</span><span class="na">defaultThreadFactory</span><span class="o">(),</span> <span class="c1">// 线程工厂</span>
                <span class="k">new</span> <span class="nc">ThreadPoolExecutor</span><span class="o">.</span><span class="na">AbortPolicy</span><span class="o">()</span> <span class="c1">// 拒绝策略</span>
        <span class="o">);</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="kt">int</span> <span class="n">taskId</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="n">executor</span><span class="o">.</span><span class="na">submit</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Task "</span> <span class="o">+</span> <span class="n">taskId</span> <span class="o">+</span> <span class="s">" is running on thread: "</span> <span class="o">+</span> <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
                <span class="k">try</span> <span class="o">{</span>
                    <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">});</span>
        <span class="o">}</span>

        <span class="n">executor</span><span class="o">.</span><span class="na">shutdown</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="4-线程同步与通信">4. 线程同步与通信</h4>
<ul>
  <li><strong>锁机制</strong>：<code class="language-plaintext highlighter-rouge">synchronized</code>关键字和<code class="language-plaintext highlighter-rouge">Lock</code>接口及其实现（如<code class="language-plaintext highlighter-rouge">ReentrantLock</code>）。</li>
  <li><strong>原子类</strong>：<code class="language-plaintext highlighter-rouge">java.util.concurrent.atomic</code>包中的类，基于<code class="language-plaintext highlighter-rouge">CAS</code>实现。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">volatile</code>关键字</strong>：保证可见性和禁止指令重排序。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">ThreadLocal</code></strong>：线程局部变量。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.concurrent.atomic.AtomicInteger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.locks.Lock</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.locks.ReentrantLock</span><span class="o">;</span>

<span class="c1">// 锁机制</span>
<span class="kd">class</span> <span class="nc">Counter</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Lock</span> <span class="n">lock</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ReentrantLock</span><span class="o">();</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">increment</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">lock</span><span class="o">.</span><span class="na">lock</span><span class="o">();</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">count</span><span class="o">++;</span>
        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="n">lock</span><span class="o">.</span><span class="na">unlock</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">count</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 原子类</span>
<span class="kd">class</span> <span class="nc">AtomicCounter</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">AtomicInteger</span> <span class="n">count</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AtomicInteger</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">increment</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">count</span><span class="o">.</span><span class="na">incrementAndGet</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">count</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// volatile关键字</span>
<span class="kd">class</span> <span class="nc">VolatileExample</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">volatile</span> <span class="kt">boolean</span> <span class="n">flag</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setFlag</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">getFlag</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">flag</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// ThreadLocal</span>
<span class="kd">class</span> <span class="nc">ThreadLocalExample</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">ThreadLocal</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">threadLocal</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ThreadLocal</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">setValue</span><span class="o">(</span><span class="kt">int</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">threadLocal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">getValue</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">threadLocal</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">removeValue</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">threadLocal</span><span class="o">.</span><span class="na">remove</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThreadSynchronizationExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="c1">// 锁机制</span>
        <span class="nc">Counter</span> <span class="n">counter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Counter</span><span class="o">();</span>
        <span class="nc">Thread</span> <span class="n">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">counter</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="nc">Thread</span> <span class="n">t2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">counter</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t2</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t1</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
        <span class="n">t2</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Counter value: "</span> <span class="o">+</span> <span class="n">counter</span><span class="o">.</span><span class="na">getCount</span><span class="o">());</span>

        <span class="c1">// 原子类</span>
        <span class="nc">AtomicCounter</span> <span class="n">atomicCounter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AtomicCounter</span><span class="o">();</span>
        <span class="nc">Thread</span> <span class="n">t3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">atomicCounter</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="nc">Thread</span> <span class="n">t4</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">atomicCounter</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">t3</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t4</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t3</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
        <span class="n">t4</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Atomic counter value: "</span> <span class="o">+</span> <span class="n">atomicCounter</span><span class="o">.</span><span class="na">getCount</span><span class="o">());</span>

        <span class="c1">// volatile关键字</span>
        <span class="nc">VolatileExample</span> <span class="n">volatileExample</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">VolatileExample</span><span class="o">();</span>
        <span class="nc">Thread</span> <span class="n">t5</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="n">volatileExample</span><span class="o">.</span><span class="na">setFlag</span><span class="o">();</span>
        <span class="o">});</span>
        <span class="nc">Thread</span> <span class="n">t6</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">while</span> <span class="o">(!</span><span class="n">volatileExample</span><span class="o">.</span><span class="na">getFlag</span><span class="o">())</span> <span class="o">{</span>
                <span class="c1">// 等待</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Flag is set to true"</span><span class="o">);</span>
        <span class="o">});</span>
        <span class="n">t5</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t6</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t5</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
        <span class="n">t6</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>

        <span class="c1">// ThreadLocal</span>
        <span class="nc">Thread</span> <span class="n">t7</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="nc">ThreadLocalExample</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread 7 value: "</span> <span class="o">+</span> <span class="nc">ThreadLocalExample</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
            <span class="nc">ThreadLocalExample</span><span class="o">.</span><span class="na">removeValue</span><span class="o">();</span>
        <span class="o">});</span>
        <span class="nc">Thread</span> <span class="n">t8</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="nc">ThreadLocalExample</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="mi">20</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread 8 value: "</span> <span class="o">+</span> <span class="nc">ThreadLocalExample</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
            <span class="nc">ThreadLocalExample</span><span class="o">.</span><span class="na">removeValue</span><span class="o">();</span>
        <span class="o">});</span>
        <span class="n">t7</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t8</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t7</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
        <span class="n">t8</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="5-并发工具类">5. 并发工具类</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">CountDownLatch</code>：倒计时门闩，一个或多个线程等待其他线程完成操作。</li>
  <li><code class="language-plaintext highlighter-rouge">CyclicBarrier</code>：循环栅栏，一组线程互相等待到达某个屏障点。</li>
  <li><code class="language-plaintext highlighter-rouge">Semaphore</code>：信号量，控制同时访问特定资源的线程数。</li>
  <li><code class="language-plaintext highlighter-rouge">Exchanger</code>：线程间交换数据。</li>
  <li><code class="language-plaintext highlighter-rouge">Phaser</code>：更灵活的屏障（Java 7+）。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.concurrent.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ConcurrentUtilsExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="c1">// CountDownLatch</span>
        <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="kt">int</span> <span class="n">taskId</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Task "</span> <span class="o">+</span> <span class="n">taskId</span> <span class="o">+</span> <span class="s">" is running"</span><span class="o">);</span>
                <span class="k">try</span> <span class="o">{</span>
                    <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                <span class="o">}</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Task "</span> <span class="o">+</span> <span class="n">taskId</span> <span class="o">+</span> <span class="s">" is completed"</span><span class="o">);</span>
                <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
            <span class="o">}).</span><span class="na">start</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"All tasks are completed"</span><span class="o">);</span>

        <span class="c1">// CyclicBarrier</span>
        <span class="nc">CyclicBarrier</span> <span class="n">barrier</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CyclicBarrier</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"All threads reached the barrier"</span><span class="o">));</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="kt">int</span> <span class="n">taskId</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread "</span> <span class="o">+</span> <span class="n">taskId</span> <span class="o">+</span> <span class="s">" is waiting at the barrier"</span><span class="o">);</span>
                <span class="k">try</span> <span class="o">{</span>
                    <span class="n">barrier</span><span class="o">.</span><span class="na">await</span><span class="o">();</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="o">|</span> <span class="nc">BrokenBarrierException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                <span class="o">}</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread "</span> <span class="o">+</span> <span class="n">taskId</span> <span class="o">+</span> <span class="s">" passed the barrier"</span><span class="o">);</span>
            <span class="o">}).</span><span class="na">start</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="c1">// Semaphore</span>
        <span class="nc">Semaphore</span> <span class="n">semaphore</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Semaphore</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="kt">int</span> <span class="n">taskId</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="k">try</span> <span class="o">{</span>
                    <span class="n">semaphore</span><span class="o">.</span><span class="na">acquire</span><span class="o">();</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Task "</span> <span class="o">+</span> <span class="n">taskId</span> <span class="o">+</span> <span class="s">" acquired the semaphore"</span><span class="o">);</span>
                    <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                    <span class="n">semaphore</span><span class="o">.</span><span class="na">release</span><span class="o">();</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Task "</span> <span class="o">+</span> <span class="n">taskId</span> <span class="o">+</span> <span class="s">" released the semaphore"</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}).</span><span class="na">start</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="c1">// Exchanger</span>
        <span class="nc">Exchanger</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">exchanger</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Exchanger</span><span class="o">&lt;&gt;();</span>
        <span class="nc">Thread</span> <span class="n">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"Data from Thread 1"</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">receivedData</span> <span class="o">=</span> <span class="n">exchanger</span><span class="o">.</span><span class="na">exchange</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread 1 received: "</span> <span class="o">+</span> <span class="n">receivedData</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="nc">Thread</span> <span class="n">t2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"Data from Thread 2"</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">receivedData</span> <span class="o">=</span> <span class="n">exchanger</span><span class="o">.</span><span class="na">exchange</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread 2 received: "</span> <span class="o">+</span> <span class="n">receivedData</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t2</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t1</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
        <span class="n">t2</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="6-并发集合">6. 并发集合</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">ConcurrentHashMap</code>：线程安全的哈希表。</li>
  <li><code class="language-plaintext highlighter-rouge">CopyOnWriteArrayList</code>/<code class="language-plaintext highlighter-rouge">CopyOnWriteArraySet</code>：线程安全的列表和集合。</li>
  <li><code class="language-plaintext highlighter-rouge">BlockingQueue</code>及其实现类：用于线程间的阻塞队列。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.concurrent.BlockingQueue</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.ConcurrentHashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CopyOnWriteArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.LinkedBlockingQueue</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ConcurrentCollectionExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// ConcurrentHashMap</span>
        <span class="nc">ConcurrentHashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ConcurrentHashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Banana"</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ConcurrentHashMap: "</span> <span class="o">+</span> <span class="n">map</span><span class="o">);</span>

        <span class="c1">// CopyOnWriteArrayList</span>
        <span class="nc">CopyOnWriteArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CopyOnWriteArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Banana"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"CopyOnWriteArrayList: "</span> <span class="o">+</span> <span class="n">list</span><span class="o">);</span>

        <span class="c1">// BlockingQueue</span>
        <span class="nc">BlockingQueue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedBlockingQueue</span><span class="o">&lt;&gt;();</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">queue</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Apple"</span><span class="o">);</span>
            <span class="n">queue</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Banana"</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"BlockingQueue: "</span> <span class="o">+</span> <span class="n">queue</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Poll: "</span> <span class="o">+</span> <span class="n">queue</span><span class="o">.</span><span class="na">take</span><span class="o">());</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="7-aqs">7. <code class="language-plaintext highlighter-rouge">AQS</code></h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">AbstractQueuedSynchronizer</code>：是<code class="language-plaintext highlighter-rouge">ReentrantLock</code>、<code class="language-plaintext highlighter-rouge">CountDownLatch</code>、<code class="language-plaintext highlighter-rouge">Semaphore</code>等众多同步器的基础框架。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.concurrent.locks.AbstractQueuedSynchronizer</span><span class="o">;</span>

<span class="c1">// 自定义同步器</span>
<span class="kd">class</span> <span class="nc">MySync</span> <span class="kd">extends</span> <span class="nc">AbstractQueuedSynchronizer</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">tryAcquire</span><span class="o">(</span><span class="kt">int</span> <span class="n">arg</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">compareAndSetState</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">setExclusiveOwnerThread</span><span class="o">(</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">());</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">tryRelease</span><span class="o">(</span><span class="kt">int</span> <span class="n">arg</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">getState</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalMonitorStateException</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="n">setExclusiveOwnerThread</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
        <span class="n">setState</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">isHeldExclusively</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">getState</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 自定义锁</span>
<span class="kd">class</span> <span class="nc">MyLock</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">MySync</span> <span class="n">sync</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MySync</span><span class="o">();</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">lock</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">sync</span><span class="o">.</span><span class="na">acquire</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">unlock</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">sync</span><span class="o">.</span><span class="na">release</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AQSExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">MyLock</span> <span class="n">lock</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyLock</span><span class="o">();</span>
        <span class="nc">Thread</span> <span class="n">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="n">lock</span><span class="o">.</span><span class="na">lock</span><span class="o">();</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread 1 acquired the lock"</span><span class="o">);</span>
                <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">lock</span><span class="o">.</span><span class="na">unlock</span><span class="o">();</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread 1 released the lock"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="nc">Thread</span> <span class="n">t2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="n">lock</span><span class="o">.</span><span class="na">lock</span><span class="o">();</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread 2 acquired the lock"</span><span class="o">);</span>
                <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">lock</span><span class="o">.</span><span class="na">unlock</span><span class="o">();</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Thread 2 released the lock"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t2</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="8-forkjoin框架">8. <code class="language-plaintext highlighter-rouge">Fork/Join</code>框架</h4>
<ul>
  <li>用于并行执行任务（分治思想）。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.concurrent.ForkJoinPool</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.RecursiveTask</span><span class="o">;</span>

<span class="c1">// 计算数组元素之和</span>
<span class="kd">class</span> <span class="nc">SumTask</span> <span class="kd">extends</span> <span class="nc">RecursiveTask</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">THRESHOLD</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">array</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">start</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">end</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">SumTask</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">array</span><span class="o">,</span> <span class="kt">int</span> <span class="n">start</span><span class="o">,</span> <span class="kt">int</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">array</span> <span class="o">=</span> <span class="n">array</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">start</span> <span class="o">=</span> <span class="n">start</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">end</span> <span class="o">=</span> <span class="n">end</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="nc">Integer</span> <span class="nf">compute</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="no">THRESHOLD</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">start</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">end</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">sum</span> <span class="o">+=</span> <span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">sum</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="o">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="o">)</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
            <span class="nc">SumTask</span> <span class="n">leftTask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SumTask</span><span class="o">(</span><span class="n">array</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">mid</span><span class="o">);</span>
            <span class="nc">SumTask</span> <span class="n">rightTask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SumTask</span><span class="o">(</span><span class="n">array</span><span class="o">,</span> <span class="n">mid</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>

            <span class="n">leftTask</span><span class="o">.</span><span class="na">fork</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">rightResult</span> <span class="o">=</span> <span class="n">rightTask</span><span class="o">.</span><span class="na">compute</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">leftResult</span> <span class="o">=</span> <span class="n">leftTask</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>

            <span class="k">return</span> <span class="n">leftResult</span> <span class="o">+</span> <span class="n">rightResult</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ForkJoinExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">array</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">100</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nc">ForkJoinPool</span> <span class="n">pool</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ForkJoinPool</span><span class="o">();</span>
        <span class="nc">SumTask</span> <span class="n">task</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SumTask</span><span class="o">(</span><span class="n">array</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">array</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">task</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Sum: "</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="9-completablefuture">9. <code class="language-plaintext highlighter-rouge">CompletableFuture</code></h4>
<ul>
  <li>强大的异步编程工具（Java 8+），支持链式调用、组合异步操作、处理结果和异常。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.concurrent.CompletableFuture</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.ExecutionException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CompletableFutureExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ExecutionException</span><span class="o">,</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="c1">// 异步任务</span>
        <span class="nc">CompletableFuture</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">future</span> <span class="o">=</span> <span class="nc">CompletableFuture</span><span class="o">.</span><span class="na">supplyAsync</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="s">"Hello"</span><span class="o">;</span>
        <span class="o">});</span>

        <span class="c1">// 链式调用</span>
        <span class="nc">CompletableFuture</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">combinedFuture</span> <span class="o">=</span> <span class="n">future</span><span class="o">.</span><span class="na">thenApply</span><span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span> <span class="o">+</span> <span class="s">" World"</span><span class="o">)</span>
                                                        <span class="o">.</span><span class="na">thenApply</span><span class="o">(</span><span class="nl">String:</span><span class="o">:</span><span class="n">toUpperCase</span><span class="o">);</span>

        <span class="c1">// 获取结果</span>
        <span class="nc">String</span> <span class="n">result</span> <span class="o">=</span> <span class="n">combinedFuture</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="四java虚拟机-java-virtual-machine---jvm">四、Java虚拟机 (Java Virtual Machine - JVM)</h3>

<h4 id="1-内存区域运行时数据区">1. 内存区域（运行时数据区）</h4>
<ul>
  <li><strong>程序计数器</strong>：记录当前线程执行的字节码行号。</li>
  <li><strong>虚拟机栈</strong>：每个方法执行时会创建一个栈帧，包含局部变量表、操作数栈、动态链接、方法出口等信息。</li>
  <li><strong>本地方法栈</strong>：与虚拟机栈类似，用于执行本地方法。</li>
  <li><strong>堆</strong>：是Java对象存储的主要区域，也是垃圾回收的主要区域。</li>
  <li><strong>方法区</strong>：存储类信息、常量、静态变量等，JDK 8+为元空间（Metaspace）。</li>
  <li><strong>运行时常量池</strong>：是方法区的一部分，用于存储编译期生成的各种字面量和符号引用。</li>
</ul>

<h4 id="2-垃圾回收-garbage-collection---gc">2. 垃圾回收 (Garbage Collection - GC)</h4>
<ul>
  <li><strong>对象存活性判断</strong>：Java采用可达性分析算法，通过一系列的GC Roots对象作为起点，从这些节点开始向下搜索，搜索所走过的路径称为引用链，当一个对象到GC Roots没有任何引用链相连时，则证明此对象是不可用的。</li>
  <li><strong>引用类型</strong>：包括强引用、软引用、弱引用和虚引用。</li>
  <li><strong>GC算法</strong>：标记-清除、标记-复制、标记-整理、分代收集理论。</li>
  <li><strong>垃圾收集器</strong>：不同的垃圾收集器适用于不同的场景，如新生代收集器（<code class="language-plaintext highlighter-rouge">Serial</code>, <code class="language-plaintext highlighter-rouge">ParNew</code>, <code class="language-plaintext highlighter-rouge">Parallel Scavenge</code>）、老年代收集器（<code class="language-plaintext highlighter-rouge">Serial Old</code>, <code class="language-plaintext highlighter-rouge">Parallel Old</code>, <code class="language-plaintext highlighter-rouge">CMS</code>）、整堆收集器（<code class="language-plaintext highlighter-rouge">G1</code>, <code class="language-plaintext highlighter-rouge">ZGC</code>, <code class="language-plaintext highlighter-rouge">Shenandoah</code>）。</li>
  <li><strong>GC日志分析</strong>：通过设置JVM参数（如<code class="language-plaintext highlighter-rouge">-Xlog:gc*</code>或<code class="language-plaintext highlighter-rouge">-XX:+PrintGCDetails</code>）可以查看GC日志，分析GC的性能。</li>
  <li><strong>内存分配与回收策略</strong>：对象优先在Eden区分配、大对象直接进入老年代、长期存活对象进入老年代、动态对象年龄判定、空间分配担保。</li>
</ul>

<h4 id="3-类加载机制-class-loading">3. 类加载机制 (Class Loading)</h4>
<ul>
  <li><strong>过程</strong>：加载（Loading） -&gt; 链接（Linking：验证、准备、解析） -&gt; 初始化（Initialization）。</li>
  <li><strong>类加载器</strong>：包括启动类加载器（<code class="language-plaintext highlighter-rouge">Bootstrap ClassLoader</code>）、扩展类加载器（<code class="language-plaintext highlighter-rouge">Extension ClassLoader</code>）、应用程序类加载器（<code class="language-plaintext highlighter-rouge">Application ClassLoader</code>/<code class="language-plaintext highlighter-rouge">System ClassLoader</code>）和自定义类加载器。</li>
  <li><strong>双亲委派模型(Parent Delegation Model)</strong>：原理是当一个类加载器收到类加载请求时，它首先不会自己去尝试加载这个类，而是把这个请求委派给父类加载器去完成，每一个层次的类加载器都是如此，因此所有的加载请求最终都应该传送到顶层的启动类加载器中，只有当父加载器反馈自己无法完成这个加载请求（它的搜索范围中没有找到所需的类）时，子加载器才会尝试自己去加载。作用是避免重复加载和保证核心类的安全。</li>
</ul>

<h4 id="4-jvm性能监控与调优">4. JVM性能监控与调优</h4>
<ul>
  <li><strong>常用命令行工具</strong>：<code class="language-plaintext highlighter-rouge">jps</code>, <code class="language-plaintext highlighter-rouge">jstat</code>, <code class="language-plaintext highlighter-rouge">jinfo</code>, <code class="language-plaintext highlighter-rouge">jmap</code>, <code class="language-plaintext highlighter-rouge">jstack</code>, <code class="language-plaintext highlighter-rouge">jcmd</code>等。</li>
  <li><strong>图形化工具</strong>：<code class="language-plaintext highlighter-rouge">JConsole</code>, <code class="language-plaintext highlighter-rouge">VisualVM</code>, <code class="language-plaintext highlighter-rouge">Java Mission Control</code> (JMC)等。</li>
  <li><strong>内存分析工具</strong>：<code class="language-plaintext highlighter-rouge">MAT</code> (Eclipse Memory Analyzer Tool), <code class="language-plaintext highlighter-rouge">JProfiler</code>等。</li>
  <li><strong>调优目标</strong>：减少GC停顿时间、提高吞吐量、控制内存占用。</li>
  <li><strong>常见参数</strong>：堆内存设置（<code class="language-plaintext highlighter-rouge">-Xms</code>, <code class="language-plaintext highlighter-rouge">-Xmx</code>）、新生代/老年代比例（<code class="language-plaintext highlighter-rouge">-XX:NewRatio</code>）、Eden/Survivor比例（<code class="language-plaintext highlighter-rouge">-XX:SurvivorRatio</code>）、元空间设置（<code class="language-plaintext highlighter-rouge">-XX:MetaspaceSize</code>, <code class="language-plaintext highlighter-rouge">-XX:MaxMetaspaceSize</code>）、选择垃圾收集器（<code class="language-plaintext highlighter-rouge">-XX:+UseG1GC</code>, <code class="language-plaintext highlighter-rouge">-XX:+UseZGC</code>等）、GC日志相关参数。</li>
</ul>

<h4 id="5-java内存模型-java-memory-model---jmm">5. Java内存模型 (Java Memory Model - JMM)</h4>
<ul>
  <li><strong>主内存与工作内存</strong>：主内存是所有线程共享的，工作内存是每个线程独有的，线程对变量的所有操作（读取、赋值等）都必须在工作内存中进行，而不能直接读写主内存中的变量。</li>
  <li><strong>内存间交互操作</strong>：包括<code class="language-plaintext highlighter-rouge">read</code>, <code class="language-plaintext highlighter-rouge">load</code>, <code class="language-plaintext highlighter-rouge">use</code>, <code class="language-plaintext highlighter-rouge">assign</code>, <code class="language-plaintext highlighter-rouge">store</code>, <code class="language-plaintext highlighter-rouge">write</code>, <code class="language-plaintext highlighter-rouge">lock</code>, <code class="language-plaintext highlighter-rouge">unlock</code>等。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">volatile</code>的特殊规则</strong>：保证可见性和禁止指令重排序，但不保证原子性。</li>
  <li><strong>原子性、可见性、有序性</strong>：是并发编程中的三个重要特性。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">happens-before</code>原则</strong>：用于判断一个操作是否对另一个操作可见。</li>
</ul>

<h3 id="五数据库-database">五、数据库 (Database)</h3>

<h4 id="1-sql基础">1. SQL基础</h4>
<ul>
  <li><strong>DDL（数据定义语言）</strong>：用于定义数据库对象，如<code class="language-plaintext highlighter-rouge">CREATE</code>, <code class="language-plaintext highlighter-rouge">ALTER</code>, <code class="language-plaintext highlighter-rouge">DROP</code>等。</li>
  <li><strong>DML（数据操作语言）</strong>：用于操作数据库中的数据，如<code class="language-plaintext highlighter-rouge">INSERT</code>, <code class="language-plaintext highlighter-rouge">UPDATE</code>, <code class="language-plaintext highlighter-rouge">DELETE</code>等。</li>
  <li><strong>DQL（数据查询语言）</strong>：用于查询数据库中的数据，如<code class="language-plaintext highlighter-rouge">SELECT</code>。</li>
  <li><strong>DCL（数据控制语言）</strong>：用于控制数据库的访问权限，如<code class="language-plaintext highlighter-rouge">GRANT</code>, <code class="language-plaintext highlighter-rouge">REVOKE</code>等。</li>
  <li><strong>TCL（事务控制语言）</strong>：用于管理数据库事务，如<code class="language-plaintext highlighter-rouge">COMMIT</code>, <code class="language-plaintext highlighter-rouge">ROLLBACK</code>等。</li>
</ul>

<h4 id="2-jdbc-java-database-connectivity">2. JDBC (Java Database Connectivity)</h4>
<ul>
  <li><strong>核心接口</strong>：包括<code class="language-plaintext highlighter-rouge">Driver</code>, <code class="language-plaintext highlighter-rouge">Connection</code>, <code class="language-plaintext highlighter-rouge">Statement</code>, <code class="language-plaintext highlighter-rouge">PreparedStatement</code>, <code class="language-plaintext highlighter-rouge">CallableStatement</code>, <code class="language-plaintext highlighter-rouge">ResultSet</code>等。</li>
  <li><strong>使用步骤</strong>：注册驱动、获取连接、创建语句对象、执行SQL、处理结果集、关闭资源。</li>
  <li><strong>事务管理</strong>：通过<code class="language-plaintext highlighter-rouge">Connection</code>对象的<code class="language-plaintext highlighter-rouge">setAutoCommit()</code>、<code class="language-plaintext highlighter-rouge">commit()</code>和<code class="language-plaintext highlighter-rouge">rollback()</code>方法来管理事务。</li>
  <li><strong>连接池原理与使用</strong>：连接池可以减少数据库连接的创建和销毁开销，提高性能。常见的连接池实现有<code class="language-plaintext highlighter-rouge">HikariCP</code>, <code class="language-plaintext highlighter-rouge">Druid</code>等。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.sql.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JDBCExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"jdbc:mysql://localhost:3306/test"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">"root"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">"password"</span><span class="o">;</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
             <span class="nc">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
             <span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="s">"SELECT * FROM users"</span><span class="o">))</span> <span class="o">{</span>

            <span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"name"</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID: "</span> <span class="o">+</span> <span class="n">id</span> <span class="o">+</span> <span class="s">", Name: "</span> <span class="o">+</span> <span class="n">name</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="3-orm框架">3. ORM框架</h4>
<ul>
  <li><strong>MyBatis</strong>
    <ul>
      <li><strong>核心概念</strong>：包括<code class="language-plaintext highlighter-rouge">SqlSessionFactory</code>, <code class="language-plaintext highlighter-rouge">SqlSession</code>, <code class="language-plaintext highlighter-rouge">Mapper</code>接口/XML等。</li>
      <li><strong>动态SQL</strong>：可以根据不同的条件生成不同的SQL语句。</li>
      <li><strong>缓存机制</strong>：包括一级缓存（基于<code class="language-plaintext highlighter-rouge">SqlSession</code>）和二级缓存（基于<code class="language-plaintext highlighter-rouge">Mapper</code>）。</li>
      <li><strong>插件开发</strong>：可以通过实现<code class="language-plaintext highlighter-rouge">Interceptor</code>接口来开发插件。</li>
      <li><strong>与Spring集成</strong>：可以通过Spring来管理MyBatis的组件。</li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.apache.ibatis.io.Resources</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.ibatis.session.SqlSession</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.ibatis.session.SqlSessionFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.ibatis.session.SqlSessionFactoryBuilder</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>

<span class="c1">// 实体类</span>
<span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"User{id="</span> <span class="o">+</span> <span class="n">id</span> <span class="o">+</span> <span class="s">", name='"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">"'}"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// Mapper接口</span>
<span class="kd">interface</span> <span class="nc">UserMapper</span> <span class="o">{</span>
    <span class="nc">User</span> <span class="nf">getUserById</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyBatisExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">resource</span> <span class="o">=</span> <span class="s">"mybatis-config.xml"</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">(</span><span class="nc">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="nc">Resources</span><span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="n">resource</span><span class="o">))</span> <span class="o">{</span>
            <span class="nc">SqlSessionFactory</span> <span class="n">sqlSessionFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SqlSessionFactoryBuilder</span><span class="o">().</span><span class="na">build</span><span class="o">(</span><span class="n">inputStream</span><span class="o">);</span>
            <span class="k">try</span> <span class="o">(</span><span class="nc">SqlSession</span> <span class="n">session</span> <span class="o">=</span> <span class="n">sqlSessionFactory</span><span class="o">.</span><span class="na">openSession</span><span class="o">())</span> <span class="o">{</span>
                <span class="nc">UserMapper</span> <span class="n">userMapper</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="nc">UserMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                <span class="nc">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">getUserById</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><strong>JPA (Java Persistence API) / Hibernate</strong>
    <ul>
      <li><strong>ORM概念</strong>：通过实体类和映射注解（如<code class="language-plaintext highlighter-rouge">@Entity</code>, <code class="language-plaintext highlighter-rouge">@Table</code>, <code class="language-plaintext highlighter-rouge">@Column</code>等）将Java对象映射到数据库表。</li>
      <li><strong><code class="language-plaintext highlighter-rouge">EntityManager</code></strong>：用于管理实体的生命周期，如持久化、查询、删除等。</li>
      <li><strong>JPA Repository (Spring Data JPA)</strong>：提供了简单的CRUD操作和自定义查询方法。</li>
      <li><strong>对象关系映射策略</strong>：包括一对一、一对多、多对一、多对多等关系的映射。</li>
      <li><strong>Hibernate缓存</strong>：包括一级Session缓存、二级缓存和查询缓存。</li>
      <li><strong>Hibernate与MyBatis对比</strong>：Hibernate是全自动的ORM框架，提供了更高级的功能和更简洁的代码；MyBatis是半自动的ORM框架，更灵活，适合对SQL有较高要求的场景。</li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">javax.persistence.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.GeneratedValue</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.GenerationType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.Id</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.EntityManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.EntityManagerFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.persistence.Persistence</span><span class="o">;</span>

<span class="c1">// 实体类</span>
<span class="nd">@Entity</span>
<span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="nc">Long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Product{id="</span> <span class="o">+</span> <span class="n">id</span> <span class="o">+</span> <span class="s">", name='"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">"'}"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JPAExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">EntityManagerFactory</span> <span class="n">emf</span> <span class="o">=</span> <span class="nc">Persistence</span><span class="o">.</span><span class="na">createEntityManagerFactory</span><span class="o">(</span><span class="s">"myPU"</span><span class="o">);</span>
        <span class="nc">EntityManager</span> <span class="n">em</span> <span class="o">=</span> <span class="n">emf</span><span class="o">.</span><span class="na">createEntityManager</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">em</span><span class="o">.</span><span class="na">getTransaction</span><span class="o">().</span><span class="na">begin</span><span class="o">();</span>
            <span class="nc">Product</span> <span class="n">product</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
            <span class="n">product</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Test Product"</span><span class="o">);</span>
            <span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">product</span><span class="o">);</span>
            <span class="n">em</span><span class="o">.</span><span class="na">getTransaction</span><span class="o">().</span><span class="na">commit</span><span class="o">();</span>

            <span class="nc">Product</span> <span class="n">retrievedProduct</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="nc">Product</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">product</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">retrievedProduct</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="n">em</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="n">emf</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="4-数据库连接池">4. 数据库连接池</h4>
<ul>
  <li><strong>原理</strong>：连接池在初始化时会创建一定数量的数据库连接，当应用程序需要使用数据库连接时，从连接池中获取一个空闲的连接，使用完毕后将连接返回给连接池，而不是直接关闭连接。</li>
  <li><strong>优势</strong>：减少数据库连接的创建和销毁开销，提高性能；可以对连接进行管理和监控。</li>
  <li><strong>常见实现</strong>：<code class="language-plaintext highlighter-rouge">HikariCP</code>是高性能的默认选择，<code class="language-plaintext highlighter-rouge">Druid</code>功能强大，带有监控功能。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.zaxxer.hikari.HikariConfig</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.zaxxer.hikari.HikariDataSource</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.sql.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.ResultSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.Statement</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ConnectionPoolExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HikariConfig</span> <span class="n">config</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HikariConfig</span><span class="o">();</span>
        <span class="n">config</span><span class="o">.</span><span class="na">setJdbcUrl</span><span class="o">(</span><span class="s">"jdbc:mysql://localhost:3306/test"</span><span class="o">);</span>
        <span class="n">config</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">"root"</span><span class="o">);</span>
        <span class="n">config</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">"password"</span><span class="o">);</span>
        <span class="n">config</span><span class="o">.</span><span class="na">setMaximumPoolSize</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>

        <span class="nc">HikariDataSource</span> <span class="n">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HikariDataSource</span><span class="o">(</span><span class="n">config</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">dataSource</span><span class="o">.</span><span class="na">getConnection</span><span class="o">();</span>
             <span class="nc">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
             <span class="nc">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="s">"SELECT * FROM users"</span><span class="o">))</span> <span class="o">{</span>

            <span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"name"</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID: "</span> <span class="o">+</span> <span class="n">id</span> <span class="o">+</span> <span class="s">", Name: "</span> <span class="o">+</span> <span class="n">name</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="六开发框架-development-frameworks">六、开发框架 (Development Frameworks)</h3>

<h4 id="1-spring-framework">1. Spring Framework</h4>
<ul>
  <li><strong>IoC (Inversion of Control) / DI (Dependency Injection)</strong>
    <ul>
      <li><strong>核心概念</strong>：IoC是一种设计原则，将对象的创建和依赖关系的管理交给容器来完成；DI是IoC的具体实现方式，通过构造器注入、Setter注入、字段注入等方式将依赖对象注入到目标对象中。</li>
      <li><strong><code class="language-plaintext highlighter-rouge">BeanFactory</code> vs <code class="language-plaintext highlighter-rouge">ApplicationContext</code></strong>：<code class="language-plaintext highlighter-rouge">BeanFactory</code>是Spring的基础容器，<code class="language-plaintext highlighter-rouge">ApplicationContext</code>是<code class="language-plaintext highlighter-rouge">BeanFactory</code>的子接口，提供了更多的功能，如国际化支持、事件发布等。</li>
      <li><strong>Bean作用域</strong>：包括<code class="language-plaintext highlighter-rouge">singleton</code>（单例）、<code class="language-plaintext highlighter-rouge">prototype</code>（原型）等。</li>
      <li><strong>Bean生命周期</strong>：包括实例化、属性赋值、初始化、销毁等阶段。</li>
      <li><strong>依赖注入方式</strong>：构造器注入、Setter注入、字段注入（不推荐）。</li>
      <li><strong>注解</strong>：<code class="language-plaintext highlighter-rouge">@Autowired</code>, <code class="language-plaintext highlighter-rouge">@Resource</code>, <code class="language-plaintext highlighter-rouge">@Component</code>及相关注解（<code class="language-plaintext highlighter-rouge">@Service</code>, <code class="language-plaintext highlighter-rouge">@Repository</code>, <code class="language-plaintext highlighter-rouge">@Controller</code>）。</li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="c1">// 服务类</span>
<span class="nd">@Component</span>
<span class="kd">class</span> <span class="nc">UserService</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">;</span>

    <span class="nd">@Autowired</span>
    <span class="kd">public</span> <span class="nf">UserService</span><span class="o">(</span><span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">userRepository</span> <span class="o">=</span> <span class="n">userRepository</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomething</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">userRepository</span><span class="o">.</span><span class="na">saveUser</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 仓库类</span>
<span class="nd">@Component</span>
<span class="kd">class</span> <span class="nc">UserRepository</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">saveUser</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"User saved"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 主类</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.ApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.AnnotationConfigApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.ComponentScan</span><span class="o">;</span>

<span class="nd">@ComponentScan</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringIoCExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ApplicationContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AnnotationConfigApplicationContext</span><span class="o">(</span><span class="nc">SpringIoCExample</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="nc">UserService</span> <span class="n">userService</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="nc">UserService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">userService</span><span class="o">.</span><span class="na">doSomething</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><strong>AOP (Aspect-Oriented Programming)</strong>
    <ul>
      <li><strong>核心概念</strong>：包括切面（Aspect）、连接点（Joinpoint）、通知（Advice）、切点（Pointcut）、引入（Introduction）、织入（Weaving）等。</li>
      <li><strong>通知类型</strong>：<code class="language-plaintext highlighter-rouge">@Before</code>, <code class="language-plaintext highlighter-rouge">@After</code>, <code class="language-plaintext highlighter-rouge">@AfterReturning</code>, <code class="language-plaintext highlighter-rouge">@AfterThrowing</code>, <code class="language-plaintext highlighter-rouge">@Around</code>。</li>
      <li><strong>实现原理</strong>：基于动态代理（JDK Proxy vs CGLIB）。</li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.aspectj.lang.JoinPoint</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.aspectj.lang.annotation.After</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.aspectj.lang.annotation.Aspect</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.aspectj.lang.annotation.Before</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.aspectj.lang.annotation.Pointcut</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="c1">// 切面类</span>
<span class="nd">@Aspect</span>
<span class="nd">@Component</span>
<span class="kd">class</span> <span class="nc">LoggingAspect</span> <span class="o">{</span>
    <span class="nd">@Pointcut</span><span class="o">(</span><span class="s">"execution(* com.example.UserService.*(..))"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">userServiceMethods</span><span class="o">()</span> <span class="o">{}</span>

    <span class="nd">@Before</span><span class="o">(</span><span class="s">"userServiceMethods()"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">beforeAdvice</span><span class="o">(</span><span class="nc">JoinPoint</span> <span class="n">joinPoint</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Before method: "</span> <span class="o">+</span> <span class="n">joinPoint</span><span class="o">.</span><span class="na">getSignature</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="nd">@After</span><span class="o">(</span><span class="s">"userServiceMethods()"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">afterAdvice</span><span class="o">(</span><span class="nc">JoinPoint</span> <span class="n">joinPoint</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"After method: "</span> <span class="o">+</span> <span class="n">joinPoint</span><span class="o">.</span><span class="na">getSignature</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 主类</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.ApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.AnnotationConfigApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.ComponentScan</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.EnableAspectJAutoProxy</span><span class="o">;</span>

<span class="nd">@EnableAspectJAutoProxy</span>
<span class="nd">@ComponentScan</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringAOPExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ApplicationContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AnnotationConfigApplicationContext</span><span class="o">(</span><span class="nc">SpringAOPExample</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="nc">UserService</span> <span class="n">userService</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="nc">UserService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">userService</span><span class="o">.</span><span class="na">doSomething</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><strong>事务管理</strong>
    <ul>
      <li><strong>声明式事务</strong>：通过<code class="language-plaintext highlighter-rouge">@Transactional</code>注解来管理事务。</li>
      <li><strong>传播行为</strong>：定义了事务在不同方法调用时的传播方式，如<code class="language-plaintext highlighter-rouge">Propagation.REQUIRED</code>, <code class="language-plaintext highlighter-rouge">Propagation.REQUIRES_NEW</code>等。</li>
      <li><strong>隔离级别</strong>：定义了事务之间的隔离程度，如<code class="language-plaintext highlighter-rouge">Isolation.READ_COMMITTED</code>, <code class="language-plaintext highlighter-rouge">Isolation.SERIALIZABLE</code>等。</li>
      <li><strong>回滚规则</strong>：可以指定哪些异常会导致事务回滚。</li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="o">;</span>

<span class="c1">// 服务类</span>
<span class="nd">@Service</span>
<span class="kd">class</span> <span class="nc">TransactionalService</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">;</span>

    <span class="nd">@Autowired</span>
    <span class="kd">public</span> <span class="nf">TransactionalService</span><span class="o">(</span><span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">userRepository</span> <span class="o">=</span> <span class="n">userRepository</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Transactional</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doTransactionalOperation</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">userRepository</span><span class="o">.</span><span class="na">saveUser</span><span class="o">();</span>
        <span class="c1">// 模拟异常</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"Transaction failed"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 主类</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.ApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.AnnotationConfigApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.ComponentScan</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.EnableTransactionManagement</span><span class="o">;</span>

<span class="nd">@EnableTransactionManagement</span>
<span class="nd">@ComponentScan</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringTransactionExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ApplicationContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AnnotationConfigApplicationContext</span><span class="o">(</span><span class="nc">SpringTransactionExample</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="nc">TransactionalService</span> <span class="n">transactionalService</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="nc">TransactionalService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">transactionalService</span><span class="o">.</span><span class="na">doTransactionalOperation</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Exception caught: "</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><strong>Spring MVC</strong>
    <ul>
      <li><strong>核心组件</strong>：包括<code class="language-plaintext highlighter-rouge">DispatcherServlet</code>, <code class="language-plaintext highlighter-rouge">HandlerMapping</code>, <code class="language-plaintext highlighter-rouge">HandlerAdapter</code>, <code class="language-plaintext highlighter-rouge">ViewResolver</code>等。</li>
      <li><strong>请求处理流程</strong>：客户端发送请求到<code class="language-plaintext highlighter-rouge">DispatcherServlet</code>，<code class="language-plaintext highlighter-rouge">DispatcherServlet</code>根据<code class="language-plaintext highlighter-rouge">HandlerMapping</code>找到对应的处理器，通过<code class="language-plaintext highlighter-rouge">HandlerAdapter</code>调用处理器方法，处理器方法返回<code class="language-plaintext highlighter-rouge">ModelAndView</code>对象，<code class="language-plaintext highlighter-rouge">DispatcherServlet</code>根据<code class="language-plaintext highlighter-rouge">ViewResolver</code>将<code class="language-plaintext highlighter-rouge">ModelAndView</code>对象解析为视图并返回给客户端。</li>
      <li><strong>常用注解</strong>：<code class="language-plaintext highlighter-rouge">@Controller</code>, <code class="language-plaintext highlighter-rouge">@RestController</code>, <code class="language-plaintext highlighter-rouge">@RequestMapping</code>, <code class="language-plaintext highlighter-rouge">@RequestParam</code>, <code class="language-plaintext highlighter-rouge">@PathVariable</code>, <code class="language-plaintext highlighter-rouge">@RequestBody</code>, <code class="language-plaintext highlighter-rouge">@ResponseBody</code>等。</li>
      <li><strong>数据绑定与验证</strong>：可以将请求参数绑定到Java对象中，并进行数据验证。</li>
      <li><strong>文件上传下载</strong>：可以通过<code class="language-plaintext highlighter-rouge">MultipartFile</code>实现文件上传，通过<code class="language-plaintext highlighter-rouge">ResponseEntity</code>实现文件下载。</li>
      <li><strong>拦截器</strong>：可以通过实现<code class="language-plaintext highlighter-rouge">HandlerInterceptor</code>接口来定义拦截器，对请求进行预处理和后处理。</li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestParam</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ResponseBody</span><span class="o">;</span>

<span class="c1">// 控制器类</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloController</span> <span class="o">{</span>
    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/hello"</span><span class="o">)</span>
    <span class="nd">@ResponseBody</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">hello</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"name"</span><span class="o">,</span> <span class="n">defaultValue</span> <span class="o">=</span> <span class="s">"World"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Hello, "</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">"!"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 主类</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.SpringApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.SpringBootApplication</span><span class="o">;</span>

<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringMVCExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="nc">SpringMVCExample</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><strong>Spring核心模块</strong>：包括Spring Core, Spring Beans, Spring Context, Spring AOP, Spring Expression Language (SpEL)等。</li>
</ul>

<h4 id="2-spring-boot">2. Spring Boot</h4>
<ul>
  <li><strong>核心特性</strong>
    <ul>
      <li><strong>自动配置</strong>：通过<code class="language-plaintext highlighter-rouge">@EnableAutoConfiguration</code>和<code class="language-plaintext highlighter-rouge">spring.factories</code>文件实现自动配置，减少了开发人员的配置工作。</li>
      <li><strong>起步依赖</strong>：提供了一系列的Starter依赖，方便开发人员快速集成各种功能。</li>
      <li><strong>嵌入式Web服务器</strong>：支持Tomcat, Jetty, Undertow等嵌入式Web服务器。</li>
      <li><strong>Actuator</strong>：提供了应用监控与管理的功能。</li>
      <li><strong>外部化配置</strong>：可以通过<code class="language-plaintext highlighter-rouge">application.properties</code>/<code class="language-plaintext highlighter-rouge">application.yml</code>文件和Profile来进行外部化配置。</li>
    </ul>
  </li>
  <li><strong>简化Spring开发</strong>：采用约定优于配置的原则，零XML配置（Java Config）。</li>
  <li><strong>常用注解</strong>：<code class="language-plaintext highlighter-rouge">@SpringBootApplication</code>。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.springframework.boot.SpringApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.SpringBootApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>

<span class="nd">@RestController</span>
<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringBootExample</span> <span class="o">{</span>
    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">hello</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Hello, Spring Boot!"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="nc">SpringBootExample</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="3-spring-cloud-微服务">3. Spring Cloud (微服务)</h4>
<ul>
  <li><strong>服务注册与发现</strong>：常用的服务注册中心有Eureka, Nacos, Consul等。</li>
  <li><strong>服务调用</strong>：可以使用<code class="language-plaintext highlighter-rouge">RestTemplate</code>或<code class="language-plaintext highlighter-rouge">OpenFeign</code>进行服务调用。</li>
  <li><strong>负载均衡</strong>：可以使用<code class="language-plaintext highlighter-rouge">Ribbon</code>或<code class="language-plaintext highlighter-rouge">Spring Cloud LoadBalancer</code>进行负载均衡。</li>
  <li><strong>服务熔断与降级</strong>：常用的服务熔断与降级框架有Hystrix, Sentinel, Resilience4j等。</li>
  <li><strong>服务网关</strong>：可以使用Zuul或<code class="language-plaintext highlighter-rouge">Spring Cloud Gateway</code>作为服务网关。</li>
  <li><strong>配置中心</strong>：可以使用<code class="language-plaintext highlighter-rouge">Spring Cloud Config</code>或Nacos Config作为配置中心。</li>
  <li><strong>分布式链路追踪</strong>：可以使用Sleuth + Zipkin进行分布式链路追踪。</li>
  <li><strong>消息驱动</strong>：可以使用<code class="language-plaintext highlighter-rouge">Spring Cloud Stream</code>进行消息驱动开发。</li>
  <li><strong>分布式事务</strong>：可以使用Seata进行分布式事务管理。</li>
</ul>

<h3 id="七系统设计与工具-system-design--tools">七、系统设计与工具 (System Design &amp; Tools)</h3>

<h4 id="1-常用设计模式">1. 常用设计模式</h4>
<ul>
  <li><strong>创建型</strong>：包括单例模式、工厂模式、抽象工厂模式、建造者模式、原型模式等。</li>
  <li><strong>结构型</strong>：包括适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式等。</li>
  <li><strong>行为型</strong>：包括策略模式、模板方法模式、观察者模式、迭代器模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式等。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 单例模式（懒汉式，线程安全）</span>
<span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">volatile</span> <span class="nc">Singleton</span> <span class="n">instance</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">()</span> <span class="o">{}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">synchronized</span> <span class="o">(</span><span class="nc">Singleton</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Singleton</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 工厂模式</span>
<span class="kd">interface</span> <span class="nc">Shape</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">draw</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Circle</span> <span class="kd">implements</span> <span class="nc">Shape</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Drawing a circle"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Rectangle</span> <span class="kd">implements</span> <span class="nc">Shape</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Drawing a rectangle"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">ShapeFactory</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">Shape</span> <span class="nf">getShape</span><span class="o">(</span><span class="nc">String</span> <span class="n">shapeType</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">shapeType</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">shapeType</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"CIRCLE"</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">Circle</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">shapeType</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"RECTANGLE"</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">Rectangle</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 主类</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DesignPatternExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 单例模式</span>
        <span class="nc">Singleton</span> <span class="n">singleton</span> <span class="o">=</span> <span class="nc">Singleton</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">singleton</span><span class="o">);</span>

        <span class="c1">// 工厂模式</span>
        <span class="nc">ShapeFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ShapeFactory</span><span class="o">();</span>
        <span class="nc">Shape</span> <span class="n">circle</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="na">getShape</span><span class="o">(</span><span class="s">"CIRCLE"</span><span class="o">);</span>
        <span class="n">circle</span><span class="o">.</span><span class="na">draw</span><span class="o">();</span>
        <span class="nc">Shape</span> <span class="n">rectangle</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="na">getShape</span><span class="o">(</span><span class="s">"RECTANGLE"</span><span class="o">);</span>
        <span class="n">rectangle</span><span class="o">.</span><span class="na">draw</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="2-数据结构与算法基础">2. 数据结构与算法基础</h4>
<ul>
  <li><strong>数据结构</strong>：包括数组、链表、栈、队列、树（二叉树、二叉搜索树、AVL树、红黑树）、堆、图、哈希表等。</li>
  <li><strong>常用算法</strong>：包括排序（冒泡、选择、插入、希尔、归并、快速、堆排序）、查找、递归、DFS/BFS、动态规划、贪心算法等。</li>
  <li><strong>Big O表示法</strong>：用于描述算法的时间复杂度和空间复杂度。</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 快速排序</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">QuickSort</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">quickSort</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span><span class="o">,</span> <span class="kt">int</span> <span class="n">low</span><span class="o">,</span> <span class="kt">int</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">low</span> <span class="o">&lt;</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">pivotIndex</span> <span class="o">=</span> <span class="n">partition</span><span class="o">(</span><span class="n">arr</span><span class="o">,</span> <span class="n">low</span><span class="o">,</span> <span class="n">high</span><span class="o">);</span>
            <span class="n">quickSort</span><span class="o">(</span><span class="n">arr</span><span class="o">,</span> <span class="n">low</span><span class="o">,</span> <span class="n">pivotIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
            <span class="n">quickSort</span><span class="o">(</span><span class="n">arr</span><span class="o">,</span> <span class="n">pivotIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">high</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">partition</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span><span class="o">,</span> <span class="kt">int</span> <span class="n">low</span><span class="o">,</span> <span class="kt">int</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">pivot</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">high</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">low</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">low</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">high</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">arr</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">&lt;</span> <span class="n">pivot</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">i</span><span class="o">++;</span>
                <span class="n">swap</span><span class="o">(</span><span class="n">arr</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">swap</span><span class="o">(</span><span class="n">arr</span><span class="o">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">high</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">swap</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
        <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
        <span class="n">arr</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="o">{</span><span class="mi">5</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">2</span><span class="o">};</span>
        <span class="n">quickSort</span><span class="o">(</span><span class="n">arr</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">arr</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">num</span> <span class="o">:</span> <span class="n">arr</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">num</span> <span class="o">+</span> <span class="s">" "</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="3-网络基础">3. 网络基础</h4>
<ul>
  <li><strong>OSI七层模型/TCP/IP四层模型</strong>：OSI七层模型包括物理层、数据链路层、网络层、传输层、会话层、表示层、应用层；TCP/IP四层模型包括网络接口层、网络层、传输层、应用层。</li>
  <li><strong>TCP vs UDP</strong>：TCP是面向连接的、可靠的传输协议，UDP是无连接的、不可靠的传输协议。</li>
  <li><strong>三次握手与四次挥手</strong>：TCP建立连接时需要进行三次握手，断开连接时需要进行四次挥手。</li>
  <li><strong>HTTP/HTTPS协议</strong>：HTTP是超文本传输协议，HTTPS是在HTTP的基础上加入了SSL/TLS协议，保证了数据传输的安全性。</li>
  <li><strong>WebSocket</strong>：是一种在单个TCP连接上进行全双工通信的协议，适用于实时通信场景。</li>
</ul>

<h4 id="4-linux常用命令">4. Linux常用命令</h4>
<ul>
  <li><strong>文件操作</strong>：<code class="language-plaintext highlighter-rouge">ls</code>, <code class="language-plaintext highlighter-rouge">cd</code>, <code class="language-plaintext highlighter-rouge">cp</code>, <code class="language-plaintext highlighter-rouge">mv</code>, <code class="language-plaintext highlighter-rouge">rm</code>, <code class="language-plaintext highlighter-rouge">mkdir</code>, <code class="language-plaintext highlighter-rouge">cat</code>, <code class="language-plaintext highlighter-rouge">more</code>, <code class="language-plaintext highlighter-rouge">less</code>, <code class="language-plaintext highlighter-rouge">tail</code>, <code class="language-plaintext highlighter-rouge">head</code>, <code class="language-plaintext highlighter-rouge">grep</code>, <code class="language-plaintext highlighter-rouge">find</code>等。</li>
  <li><strong>系统管理</strong>：<code class="language-plaintext highlighter-rouge">ps</code>, <code class="language-plaintext highlighter-rouge">top</code>, <code class="language-plaintext highlighter-rouge">kill</code>, <code class="language-plaintext highlighter-rouge">df</code>, <code class="language-plaintext highlighter-rouge">du</code>, <code class="language-plaintext highlighter-rouge">free</code>, <code class="language-plaintext highlighter-rouge">netstat</code>, <code class="language-plaintext highlighter-rouge">ifconfig</code>等。</li>
  <li><strong>权限管理</strong>：<code class="language-plaintext highlighter-rouge">chmod</code>, <code class="language-plaintext highlighter-rouge">chown</code>, <code class="language-plaintext highlighter-rouge">chgrp</code>等。</li>
  <li><strong>文本处理</strong>：<code class="language-plaintext highlighter-rouge">sed</code>, <code class="language-plaintext highlighter-rouge">awk</code>等。</li>
  <li><strong>压缩解压</strong>：<code class="language-plaintext highlighter-rouge">tar</code>, <code class="language-plaintext highlighter-rouge">gzip</code>, <code class="language-plaintext highlighter-rouge">zip/unzip</code>等。</li>
  <li><strong>网络工具</strong>：<code class="language-plaintext highlighter-rouge">ping</code>, <code class="language-plaintext highlighter-rouge">telnet</code>, <code class="language-plaintext highlighter-rouge">curl</code>, <code class="language-plaintext highlighter-rouge">wget</code>等。</li>
</ul>

<h4 id="5-构建工具">5. 构建工具</h4>
<ul>
  <li><strong>Maven</strong>
    <ul>
      <li><strong>POM文件结构</strong>：包括项目的基本信息、依赖管理、插件配置等。</li>
      <li><strong>坐标(GAV)</strong>：包括groupId, artifactId, version，用于唯一标识一个项目。</li>
      <li><strong>依赖管理</strong>：包括依赖范围（scope）、传递依赖、依赖冲突解决等。</li>
      <li><strong>仓库</strong>：包括本地仓库、远程仓库、中央仓库。</li>
      <li><strong>生命周期与插件</strong>：Maven有三个主要的生命周期（clean, default, site），可以通过插件来扩展功能。</li>
      <li><strong>多模块项目</strong>：可以将一个大型项目拆分成多个模块，方便管理和维护。</li>
    </ul>
  </li>
  <li><strong>Gradle</strong>
    <ul>
      <li><strong>基于Groovy/DSL</strong>：Gradle使用Groovy或Kotlin DSL来编写构建脚本。</li>
      <li><strong>构建脚本(<code class="language-plaintext highlighter-rouge">build.gradle</code>)</strong>：包括项目的基本信息、依赖管理、任务定义等。</li>
      <li><strong>依赖管理</strong>：与Maven类似，支持传递依赖和依赖冲突解决。</li>
      <li><strong>任务定义</strong>：可以自定义任务，实现自动化构建。</li>
    </ul>
  </li>
</ul>

<h4 id="6-版本控制">6. 版本控制</h4>
<ul>
  <li><strong>Git</strong>
    <ul>
      <li><strong>核心概念</strong>：包括工作区、暂存区、版本库。</li>
      <li><strong>常用命令</strong>：<code class="language-plaintext highlighter-rouge">git init/clone/add/commit/status/diff/log/show/push/pull/fetch/branch/checkout/merge/rebase/stash/tag</code>等。</li>
      <li><strong>分支管理策略</strong>：如Git Flow，用于规范分支的创建、合并和删除。</li>
      <li><strong>远程仓库操作</strong>：可以使用GitHub, GitLab, Gitee等远程仓库进行代码托管。</li>
    </ul>
  </li>
</ul>

<h4 id="7-集成开发环境-ide">7. 集成开发环境 (IDE)</h4>
<ul>
  <li><strong>IntelliJ IDEA</strong>：功能强大，支持多种开发语言和框架，提供了丰富的插件和工具。</li>
  <li><strong>Eclipse</strong>：开源的集成开发环境，广泛应用于Java开发。</li>
</ul>

<p>面试准备部分是为求职者提供在 Java 相关面试中可能会遇到的各类问题以及项目经验阐述方法，以下为你详细展开讲解各部分内容：</p>

<h3 id="1-java-基础面试题">1. Java 基础面试题</h3>
<ul>
  <li><strong>高频基础概念</strong>
    <ul>
      <li><strong>数据类型</strong>：要清楚基本数据类型（如 <code class="language-plaintext highlighter-rouge">int</code>、<code class="language-plaintext highlighter-rouge">double</code>、<code class="language-plaintext highlighter-rouge">boolean</code> 等）和引用数据类型（类、接口、数组）的区别，以及它们的默认值。例如，<code class="language-plaintext highlighter-rouge">int</code> 的默认值是 0，而引用类型的默认值是 <code class="language-plaintext highlighter-rouge">null</code>。</li>
      <li><strong>运算符</strong>：理解不同运算符的优先级和结合性，如算术运算符、逻辑运算符、位运算符等。例如，<code class="language-plaintext highlighter-rouge">&amp;&amp;</code> 和 <code class="language-plaintext highlighter-rouge">&amp;</code> 的区别，<code class="language-plaintext highlighter-rouge">&amp;&amp;</code> 具有短路特性。</li>
      <li><strong>流程控制</strong>：掌握 <code class="language-plaintext highlighter-rouge">if - else</code>、<code class="language-plaintext highlighter-rouge">switch</code>、<code class="language-plaintext highlighter-rouge">for</code>、<code class="language-plaintext highlighter-rouge">while</code>、<code class="language-plaintext highlighter-rouge">do - while</code> 等语句的使用场景和执行流程。例如，<code class="language-plaintext highlighter-rouge">switch</code> 语句在 JDK 7 之后可以使用字符串作为表达式。</li>
    </ul>
  </li>
  <li><strong>OOP（面向对象编程）</strong>
    <ul>
      <li><strong>核心概念</strong>：类与对象是 OOP 的基础，要能解释类是对象的抽象，对象是类的实例。封装是将数据和操作数据的方法绑定在一起，隐藏内部实现细节；继承是子类继承父类的属性和方法，实现代码复用；多态是同一个方法可以根据对象的不同类型表现出不同的行为；抽象是将一类对象的共同特征提取出来形成抽象类或接口。</li>
      <li><strong>关键机制</strong>：构造方法用于创建对象时初始化对象的状态；方法重载是指在同一个类中，方法名相同但参数列表不同；方法重写是子类重写父类的方法，要求方法名、参数列表和返回值类型都相同；访问权限控制符决定了类、方法和变量的访问范围。</li>
      <li><strong>抽象类与接口</strong>：抽象类可以包含抽象方法和非抽象方法，而接口只能包含抽象方法（JDK 8 之后可以有默认方法和静态方法）。抽象类适用于需要共享代码和部分实现的场景，接口适用于定义规范和行为的场景。</li>
      <li><code class="language-plaintext highlighter-rouge">this</code> 和 <code class="language-plaintext highlighter-rouge">super</code> 关键字：<code class="language-plaintext highlighter-rouge">this</code> 关键字指向当前对象，用于区分成员变量和局部变量；<code class="language-plaintext highlighter-rouge">super</code> 关键字指向父类对象，用于调用父类的方法和构造方法。</li>
    </ul>
  </li>
  <li><strong>集合</strong>：了解 <code class="language-plaintext highlighter-rouge">Collection</code> 接口下的 <code class="language-plaintext highlighter-rouge">List</code>、<code class="language-plaintext highlighter-rouge">Set</code>、<code class="language-plaintext highlighter-rouge">Queue</code> 以及 <code class="language-plaintext highlighter-rouge">Map</code> 接口的特点和常用实现类。例如，<code class="language-plaintext highlighter-rouge">List</code> 是有序可重复的，<code class="language-plaintext highlighter-rouge">Set</code> 是无序不可重复的，<code class="language-plaintext highlighter-rouge">Map</code> 是键值对的集合。</li>
  <li><strong>异常</strong>：清楚 <code class="language-plaintext highlighter-rouge">Throwable</code> 类的层次结构，包括 <code class="language-plaintext highlighter-rouge">Error</code> 和 <code class="language-plaintext highlighter-rouge">Exception</code>。区分 Checked Exception 和 Unchecked Exception（RuntimeException），掌握 <code class="language-plaintext highlighter-rouge">try - catch - finally</code> 和 <code class="language-plaintext highlighter-rouge">try - with - resources</code> 语句的使用，以及如何自定义异常。</li>
  <li><strong>泛型</strong>：理解泛型的概念和优势，如类型安全、消除强制转换。掌握通配符（<code class="language-plaintext highlighter-rouge">?</code>、<code class="language-plaintext highlighter-rouge">? extends T</code>、<code class="language-plaintext highlighter-rouge">? super T</code>）的使用和类型擦除的原理。</li>
  <li><strong>反射</strong>：知道如何使用 <code class="language-plaintext highlighter-rouge">Class</code> 类获取类的信息，动态创建对象、调用方法和访问字段。反射在框架开发中应用广泛，如 Spring 框架的依赖注入。</li>
  <li><strong>新特性</strong>：了解 Java 8 及之后的新特性，如 Lambda 表达式、Stream API、方法引用、接口默认方法和静态方法、日期时间 API 等。</li>
</ul>

<h3 id="2-集合面试题">2. 集合面试题</h3>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">HashMap</code>/<code class="language-plaintext highlighter-rouge">ConcurrentHashMap</code> 原理</strong>
    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">HashMap</code></strong>：基于哈希表实现，通过键的哈希值计算数组索引，使用链表或红黑树解决哈希冲突。当链表长度超过 8 且数组长度大于 64 时，链表会转换为红黑树；当红黑树节点数小于 6 时，红黑树会转换为链表。要了解其扩容机制，当元素数量达到阈值（容量 * 负载因子）时，会进行扩容操作，扩容为原来的 2 倍。</li>
      <li><strong><code class="language-plaintext highlighter-rouge">ConcurrentHashMap</code></strong>：是线程安全的哈希表，在 JDK 7 中采用分段锁机制，将整个哈希表分成多个段，每个段是一个独立的小哈希表，不同段可以同时进行读写操作；在 JDK 8 中采用 CAS + synchronized 机制，通过 CAS 操作保证并发插入和更新，使用 synchronized 对链表或红黑树的头节点加锁，减少锁的粒度。</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">ArrayList</code> vs <code class="language-plaintext highlighter-rouge">LinkedList</code></strong>
    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">ArrayList</code></strong>：基于数组实现，随机访问快，时间复杂度为 O(1)，但插入和删除操作慢，需要移动元素，时间复杂度为 O(n)。</li>
      <li><strong><code class="language-plaintext highlighter-rouge">LinkedList</code></strong>：基于双向链表实现，插入和删除操作快，时间复杂度为 O(1)，但随机访问慢，需要遍历链表，时间复杂度为 O(n)。</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">HashSet</code> 原理</strong>：基于 <code class="language-plaintext highlighter-rouge">HashMap</code> 实现，<code class="language-plaintext highlighter-rouge">HashSet</code> 中的元素存储在 <code class="language-plaintext highlighter-rouge">HashMap</code> 的键中，值统一为一个静态常量对象。<code class="language-plaintext highlighter-rouge">HashSet</code> 利用 <code class="language-plaintext highlighter-rouge">HashMap</code> 的哈希冲突解决机制来保证元素的唯一性。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">fail - fast</code> vs <code class="language-plaintext highlighter-rouge">fail - safe</code></strong>
    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">fail - fast</code></strong>：当在迭代集合时，如果集合的结构被修改（如添加、删除元素），会立即抛出 <code class="language-plaintext highlighter-rouge">ConcurrentModificationException</code> 异常。<code class="language-plaintext highlighter-rouge">ArrayList</code>、<code class="language-plaintext highlighter-rouge">HashMap</code> 等集合采用 <code class="language-plaintext highlighter-rouge">fail - fast</code> 机制。</li>
      <li><strong><code class="language-plaintext highlighter-rouge">fail - safe</code></strong>：在迭代集合时，会复制一份集合的快照进行迭代，即使集合的结构被修改，也不会抛出异常。<code class="language-plaintext highlighter-rouge">CopyOnWriteArrayList</code>、<code class="language-plaintext highlighter-rouge">ConcurrentHashMap</code> 等集合采用 <code class="language-plaintext highlighter-rouge">fail - safe</code> 机制。</li>
    </ul>
  </li>
</ul>

<h3 id="3-并发面试题">3. 并发面试题</h3>
<ul>
  <li><strong>线程状态</strong>：了解线程的生命周期和状态，包括 <code class="language-plaintext highlighter-rouge">NEW</code>（新建）、<code class="language-plaintext highlighter-rouge">RUNNABLE</code>（可运行）、<code class="language-plaintext highlighter-rouge">BLOCKED</code>（阻塞）、<code class="language-plaintext highlighter-rouge">WAITING</code>（等待）、<code class="language-plaintext highlighter-rouge">TIMED_WAITING</code>（定时等待）、<code class="language-plaintext highlighter-rouge">TERMINATED</code>（终止）。知道线程状态之间的转换条件，如调用 <code class="language-plaintext highlighter-rouge">start()</code> 方法使线程从 <code class="language-plaintext highlighter-rouge">NEW</code> 状态转换为 <code class="language-plaintext highlighter-rouge">RUNNABLE</code> 状态，调用 <code class="language-plaintext highlighter-rouge">wait()</code> 方法使线程从 <code class="language-plaintext highlighter-rouge">RUNNABLE</code> 状态转换为 <code class="language-plaintext highlighter-rouge">WAITING</code> 状态。</li>
  <li><strong>线程创建</strong>：掌握三种线程创建方式，继承 <code class="language-plaintext highlighter-rouge">Thread</code> 类、实现 <code class="language-plaintext highlighter-rouge">Runnable</code> 接口和实现 <code class="language-plaintext highlighter-rouge">Callable</code> 接口 + <code class="language-plaintext highlighter-rouge">Future</code>/<code class="language-plaintext highlighter-rouge">FutureTask</code>。了解它们的优缺点，如继承 <code class="language-plaintext highlighter-rouge">Thread</code> 类会限制类的继承，而实现 <code class="language-plaintext highlighter-rouge">Runnable</code> 接口和 <code class="language-plaintext highlighter-rouge">Callable</code> 接口更灵活。</li>
  <li><strong>线程池</strong>：理解线程池的核心原理，包括 <code class="language-plaintext highlighter-rouge">ThreadPoolExecutor</code> 的核心参数（核心线程数、最大线程数、工作队列、拒绝策略、线程工厂、存活时间）。知道 <code class="language-plaintext highlighter-rouge">Executors</code> 工厂类的常用方法（如 <code class="language-plaintext highlighter-rouge">newFixedThreadPool</code>、<code class="language-plaintext highlighter-rouge">newCachedThreadPool</code> 等）及其缺点，推荐手动创建 <code class="language-plaintext highlighter-rouge">ThreadPoolExecutor</code> 以避免资源耗尽问题。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">synchronized</code>/<code class="language-plaintext highlighter-rouge">Lock</code></strong>
    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">synchronized</code></strong>：是 Java 内置的锁机制，可以修饰方法和代码块。修饰方法时，锁对象是当前对象或类对象；修饰代码块时，需要指定锁对象。<code class="language-plaintext highlighter-rouge">synchronized</code> 基于监视器锁（Monitor）实现，是可重入锁。</li>
      <li><strong><code class="language-plaintext highlighter-rouge">Lock</code></strong>：是一个接口，常用的实现类有 <code class="language-plaintext highlighter-rouge">ReentrantLock</code>。<code class="language-plaintext highlighter-rouge">Lock</code> 提供了更灵活的锁操作，如可中断锁、定时锁、公平锁等。</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">volatile</code></strong>：保证变量的可见性，即一个线程修改了 <code class="language-plaintext highlighter-rouge">volatile</code> 变量的值，其他线程能立即看到最新值。同时，<code class="language-plaintext highlighter-rouge">volatile</code> 禁止指令重排序，但不保证原子性。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">CAS</code></strong>：即 Compare - And - Swap，是一种无锁算法。<code class="language-plaintext highlighter-rouge">CAS</code> 操作包含三个操作数：内存位置（V）、预期原值（A）和新值（B）。如果内存位置的值与预期原值相匹配，那么处理器会自动将该位置值更新为新值；否则，处理器不做任何操作。<code class="language-plaintext highlighter-rouge">CAS</code> 在 <code class="language-plaintext highlighter-rouge">AtomicInteger</code>、<code class="language-plaintext highlighter-rouge">AtomicReference</code> 等原子类中广泛应用。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">AQS</code></strong>：<code class="language-plaintext highlighter-rouge">AbstractQueuedSynchronizer</code> 是一个抽象队列同步器，是许多同步器（如 <code class="language-plaintext highlighter-rouge">ReentrantLock</code>、<code class="language-plaintext highlighter-rouge">CountDownLatch</code>、<code class="language-plaintext highlighter-rouge">Semaphore</code> 等）的基础框架。<code class="language-plaintext highlighter-rouge">AQS</code> 内部使用一个 <code class="language-plaintext highlighter-rouge">int</code> 类型的状态变量和一个双向队列来实现锁和同步机制。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">ThreadLocal</code></strong>：是线程局部变量，每个使用 <code class="language-plaintext highlighter-rouge">ThreadLocal</code> 的线程都有自己独立的副本，线程之间互不影响。<code class="language-plaintext highlighter-rouge">ThreadLocal</code> 常用于保存线程上下文信息，如用户信息、事务信息等。</li>
  <li><strong>并发工具类</strong>：了解 <code class="language-plaintext highlighter-rouge">CountDownLatch</code>、<code class="language-plaintext highlighter-rouge">CyclicBarrier</code>、<code class="language-plaintext highlighter-rouge">Semaphore</code>、<code class="language-plaintext highlighter-rouge">Exchanger</code>、<code class="language-plaintext highlighter-rouge">Phaser</code> 等并发工具类的作用和使用场景。例如，<code class="language-plaintext highlighter-rouge">CountDownLatch</code> 用于一个或多个线程等待其他线程完成操作，<code class="language-plaintext highlighter-rouge">CyclicBarrier</code> 用于一组线程互相等待到达某个屏障点。</li>
</ul>

<h3 id="4-jvm-面试题">4. JVM 面试题</h3>
<ul>
  <li><strong>内存区域</strong>：清楚 JVM 的运行时数据区，包括程序计数器、虚拟机栈、本地方法栈、堆、方法区（JDK 8 之后为元空间）和运行时常量池。了解每个区域的作用和特点，如堆是 GC 主要区域，存放对象实例；虚拟机栈用于存储局部变量表、操作数栈等。</li>
  <li><strong>垃圾回收</strong>
    <ul>
      <li><strong>对象存活性判断</strong>：知道引用计数法和可达性分析算法，Java 采用可达性分析算法，通过 GC Roots 来判断对象是否可达。</li>
      <li><strong>引用类型</strong>：掌握强引用、软引用、弱引用和虚引用的区别和应用场景。强引用是最常见的引用类型，只要强引用存在，对象就不会被回收；软引用在内存不足时会被回收；弱引用在下次垃圾回收时会被回收；虚引用主要用于跟踪对象被垃圾回收的状态。</li>
      <li><strong>GC 算法</strong>：了解标记 - 清除、标记 - 复制、标记 - 整理、分代收集理论等 GC 算法的原理和优缺点。</li>
      <li><strong>垃圾收集器</strong>：熟悉不同的垃圾收集器，如新生代收集器（<code class="language-plaintext highlighter-rouge">Serial</code>、<code class="language-plaintext highlighter-rouge">ParNew</code>、<code class="language-plaintext highlighter-rouge">Parallel Scavenge</code>）、老年代收集器（<code class="language-plaintext highlighter-rouge">Serial Old</code>、<code class="language-plaintext highlighter-rouge">Parallel Old</code>、<code class="language-plaintext highlighter-rouge">CMS</code>）和整堆收集器（<code class="language-plaintext highlighter-rouge">G1</code>、<code class="language-plaintext highlighter-rouge">ZGC</code>、<code class="language-plaintext highlighter-rouge">Shenandoah</code>）的特点和适用场景。</li>
      <li><strong>GC 日志分析</strong>：知道如何使用 <code class="language-plaintext highlighter-rouge">-Xlog:gc*</code> 或 <code class="language-plaintext highlighter-rouge">-XX:+PrintGCDetails</code> 等参数来开启 GC 日志，并能分析日志中的信息，如垃圾回收的时间、内存使用情况等。</li>
      <li><strong>内存分配与回收策略</strong>：了解对象优先在 Eden 区分配、大对象直接进入老年代、长期存活对象进入老年代、动态对象年龄判定、空间分配担保等内存分配与回收策略。</li>
    </ul>
  </li>
  <li><strong>类加载机制</strong>
    <ul>
      <li><strong>过程</strong>：掌握类加载的过程，包括加载、链接（验证、准备、解析）和初始化。了解每个阶段的主要任务，如加载阶段将类的字节码文件加载到内存中，初始化阶段执行类的静态代码块和静态变量的赋值操作。</li>
      <li><strong>类加载器</strong>：清楚 <code class="language-plaintext highlighter-rouge">Bootstrap ClassLoader</code>、<code class="language-plaintext highlighter-rouge">Extension ClassLoader</code>、<code class="language-plaintext highlighter-rouge">Application ClassLoader</code> 和自定义类加载器的作用和加载范围。</li>
      <li><strong>双亲委派模型</strong>：理解双亲委派模型的原理和作用，即类加载器在加载类时，先委托给父类加载器加载，只有父类加载器无法加载时，才由自己加载。双亲委派模型可以避免重复加载和保证核心类的安全。了解破坏双亲委派模型的场景，如 SPI 机制和 OSGi。</li>
    </ul>
  </li>
  <li><strong>JMM（Java 内存模型）</strong>：了解 JMM 的主内存与工作内存的概念，以及内存间交互操作（<code class="language-plaintext highlighter-rouge">read</code>、<code class="language-plaintext highlighter-rouge">load</code>、<code class="language-plaintext highlighter-rouge">use</code>、<code class="language-plaintext highlighter-rouge">assign</code>、<code class="language-plaintext highlighter-rouge">store</code>、<code class="language-plaintext highlighter-rouge">write</code>、<code class="language-plaintext highlighter-rouge">lock</code>、<code class="language-plaintext highlighter-rouge">unlock</code>）。掌握 <code class="language-plaintext highlighter-rouge">volatile</code> 的特殊规则（可见性、禁止重排序），以及原子性、可见性、有序性的概念和 <code class="language-plaintext highlighter-rouge">happens - before</code> 原则。</li>
</ul>

<h3 id="5-数据库面试题">5. 数据库面试题</h3>
<ul>
  <li><strong>SQL 优化</strong>：掌握 SQL 优化的方法，如合理使用索引、避免全表扫描、优化查询语句结构、减少子查询等。例如，在经常用于查询条件和排序的字段上创建索引。</li>
  <li><strong>索引原理（B + 树）</strong>：了解 B + 树的结构和特点，B + 树是一种平衡的多路搜索树，所有数据都存储在叶子节点上，叶子节点之间通过指针相连。B + 树适用于数据库索引，因为它可以提高查询效率，减少磁盘 I/O 次数。</li>
  <li><strong>事务特性（ACID）</strong>：清楚事务的四个特性，原子性（Atomicity）表示事务中的操作要么全部执行，要么全部不执行；一致性（Consistency）表示事务执行前后数据库的状态保持一致；隔离性（Isolation）表示多个事务之间相互隔离，互不影响；持久性（Durability）表示事务一旦提交，其结果将永久保存在数据库中。</li>
  <li><strong>隔离级别</strong>：了解数据库的四种隔离级别，读未提交（Read Uncommitted）、读已提交（Read Committed）、可重复读（Repeatable Read）和串行化（Serializable）。不同的隔离级别会导致不同的并发问题，如脏读、不可重复读和幻读。</li>
  <li><strong>锁</strong>：掌握行锁、表锁、间隙锁、死锁的概念和使用场景。行锁是对一行数据加锁，表锁是对整个表加锁，间隙锁用于解决幻读问题，死锁是指两个或多个事务在执行过程中，因争夺锁资源而造成的一种互相等待的现象。</li>
  <li><strong>MVCC（多版本并发控制）</strong>：了解 MVCC 的原理和作用，MVCC 是一种并发控制技术，通过为数据的每个版本添加时间戳或版本号，实现多事务的并发访问，提高数据库的并发性能。</li>
  <li><strong><code class="language-plaintext highlighter-rouge">explain</code></strong>：知道如何使用 <code class="language-plaintext highlighter-rouge">explain</code> 关键字来分析 SQL 语句的执行计划，了解执行计划中的各个字段的含义，如 <code class="language-plaintext highlighter-rouge">id</code>、<code class="language-plaintext highlighter-rouge">select_type</code>、<code class="language-plaintext highlighter-rouge">table</code>、<code class="language-plaintext highlighter-rouge">type</code>、<code class="language-plaintext highlighter-rouge">possible_keys</code>、<code class="language-plaintext highlighter-rouge">key</code>、<code class="language-plaintext highlighter-rouge">key_len</code>、<code class="language-plaintext highlighter-rouge">ref</code>、<code class="language-plaintext highlighter-rouge">rows</code>、<code class="language-plaintext highlighter-rouge">Extra</code> 等，通过分析执行计划可以找出 SQL 语句的性能瓶颈。</li>
  <li><strong>分库分表</strong>：了解分库分表的概念和原因，当数据库的数据量和并发量达到一定程度时，需要进行分库分表来提高数据库的性能和可扩展性。掌握垂直分库分表和水平分库分表的方法和优缺点。</li>
  <li><strong>主从复制、读写分离</strong>：了解主从复制的原理和实现方式，主从复制是指将主数据库的数据复制到从数据库，实现数据的备份和读写分离。读写分离是指将读操作和写操作分别分配到不同的数据库服务器上，提高数据库的并发性能。</li>
</ul>

<h3 id="6-框架面试题">6. 框架面试题</h3>
<ul>
  <li><strong>Spring IoC/AOP 原理</strong>
    <ul>
      <li><strong>IoC（控制反转）</strong>：理解 IoC 的核心概念，即对象的创建和依赖关系的管理由 Spring 容器负责，而不是由对象本身负责。掌握 <code class="language-plaintext highlighter-rouge">BeanFactory</code> 和 <code class="language-plaintext highlighter-rouge">ApplicationContext</code> 的区别，<code class="language-plaintext highlighter-rouge">ApplicationContext</code> 是 <code class="language-plaintext highlighter-rouge">BeanFactory</code> 的子接口，提供了更多的功能，如国际化支持、事件发布等。了解 Bean 的作用域（<code class="language-plaintext highlighter-rouge">singleton</code>、<code class="language-plaintext highlighter-rouge">prototype</code> 等）和生命周期，以及依赖注入的方式（构造器注入、Setter 注入、字段注入）。</li>
      <li><strong>AOP（面向切面编程）</strong>：掌握 AOP 的核心概念，如切面（Aspect）、连接点（Joinpoint）、通知（Advice）、切点（Pointcut）、引入（Introduction）、织入（Weaving）。了解通知的类型（<code class="language-plaintext highlighter-rouge">@Before</code>、<code class="language-plaintext highlighter-rouge">@After</code>、<code class="language-plaintext highlighter-rouge">@AfterReturning</code>、<code class="language-plaintext highlighter-rouge">@AfterThrowing</code>、<code class="language-plaintext highlighter-rouge">@Around</code>）和 AOP 的实现原理（动态代理 - JDK Proxy vs CGLIB）。</li>
    </ul>
  </li>
  <li><strong>Bean 生命周期</strong>：清楚 Bean 的生命周期，包括实例化、属性赋值、初始化、使用和销毁等阶段。了解在每个阶段可以使用的回调方法，如 <code class="language-plaintext highlighter-rouge">InitializingBean</code> 接口的 <code class="language-plaintext highlighter-rouge">afterPropertiesSet()</code> 方法和 <code class="language-plaintext highlighter-rouge">DisposableBean</code> 接口的 <code class="language-plaintext highlighter-rouge">destroy()</code> 方法。</li>
  <li><strong>事务传播行为</strong>：掌握 Spring 事务的传播行为，如 <code class="language-plaintext highlighter-rouge">Propagation.REQUIRED</code>（如果当前存在事务，则加入该事务；如果当前没有事务，则创建一个新的事务）、<code class="language-plaintext highlighter-rouge">Propagation.REQUIRES_NEW</code>（总是创建一个新的事务，如果当前存在事务，则将当前事务挂起）等。了解不同传播行为的应用场景。</li>
  <li><strong>Spring MVC 流程</strong>：熟悉 Spring MVC 的核心组件（<code class="language-plaintext highlighter-rouge">DispatcherServlet</code>、<code class="language-plaintext highlighter-rouge">HandlerMapping</code>、<code class="language-plaintext highlighter-rouge">HandlerAdapter</code>、<code class="language-plaintext highlighter-rouge">ViewResolver</code> 等）和请求处理流程。当客户端发送请求时，<code class="language-plaintext highlighter-rouge">DispatcherServlet</code> 接收请求，通过 <code class="language-plaintext highlighter-rouge">HandlerMapping</code> 找到对应的处理器，然后通过 <code class="language-plaintext highlighter-rouge">HandlerAdapter</code> 调用处理器的方法，最后通过 <code class="language-plaintext highlighter-rouge">ViewResolver</code> 解析视图并返回给客户端。</li>
  <li><strong>Spring Boot 自动配置原理</strong>：了解 Spring Boot 的自动配置原理，基于 <code class="language-plaintext highlighter-rouge">@EnableAutoConfiguration</code> 注解和 <code class="language-plaintext highlighter-rouge">spring.factories</code> 文件，Spring Boot 会根据类路径下的依赖和配置自动配置 Spring 应用。掌握起步依赖（Starter）的作用，起步依赖是一组预定义的依赖集合，可以简化项目的依赖管理。</li>
  <li><strong>MyBatis 缓存</strong>：了解 MyBatis 的一级缓存和二级缓存的原理和使用场景。一级缓存是基于 SqlSession 的，同一个 SqlSession 中执行相同的查询语句会从缓存中获取结果；二级缓存是基于 Mapper 的，多个 SqlSession 可以共享二级缓存。</li>
  <li><strong>#{} vs ${}</strong>：掌握 <code class="language-plaintext highlighter-rouge">#{}</code> 和 <code class="language-plaintext highlighter-rouge">${}</code> 在 MyBatis 中的区别，<code class="language-plaintext highlighter-rouge">#{}</code> 是预编译的占位符，会防止 SQL 注入；<code class="language-plaintext highlighter-rouge">${}</code> 是字符串替换，会直接将参数值替换到 SQL 语句中，可能会导致 SQL 注入问题。</li>
</ul>

<h3 id="7-系统设计面试题">7. 系统设计面试题</h3>
<ul>
  <li><strong>设计模式应用</strong>：掌握常用设计模式的意图、结构和应用场景，如单例模式用于确保一个类只有一个实例，工厂模式用于创建对象，观察者模式用于实现对象之间的一对多依赖关系等。能够在实际项目中灵活运用设计模式来解决问题。</li>
  <li><strong>缓存策略（Redis/Memcached）</strong>：了解 Redis 和 Memcached 的特点和区别，Redis 支持多种数据结构（如字符串、哈希、列表、集合、有序集合），支持持久化，而 Memcached 只支持简单的键值对存储，不支持持久化。掌握缓存的使用场景和缓存更新策略，如缓存穿透、缓存雪崩、缓存击穿等问题的解决方案。</li>
  <li><strong>消息队列（Kafka/RabbitMQ/RocketMQ）</strong>：了解 Kafka、RabbitMQ 和 RocketMQ 的特点和适用场景，Kafka 适用于大数据场景，具有高吞吐量、分布式、持久化等特点；RabbitMQ 适用于企业级应用，支持多种消息协议和高级特性；RocketMQ 是阿里巴巴开源的消息队列，具有高性能、高可用性、分布式等特点。掌握消息队列的使用场景，如异步处理、解耦、流量削峰等。</li>
  <li><strong>分布式 ID 生成</strong>：了解分布式 ID 生成的方法和要求，如唯一性、高性能、趋势递增等。掌握常见的分布式 ID 生成算法，如 UUID、数据库自增 ID、Snowflake 算法等。</li>
  <li><strong>分布式锁</strong>：了解分布式锁的概念和使用场景，如在分布式系统中保证数据的一致性和并发控制。掌握常见的分布式锁实现方式，如基于 Redis 的分布式锁、基于 ZooKeeper 的分布式锁等。</li>
  <li><strong>限流熔断降级</strong>：了解限流、熔断和降级的概念和作用，限流用于限制系统的并发访问量，熔断用于在系统出现故障时快速失败，降级用于在系统资源不足时牺牲部分功能来保证核心功能的可用性。掌握常见的限流算法，如令牌桶算法、漏桶算法等，以及熔断和降级的实现方式，如 Hystrix、Sentinel 等。</li>
  <li><strong>CAP/BASE 理论</strong>：了解 CAP 理论（一致性、可用性、分区容错性）和 BASE 理论（基本可用、软状态、最终一致性）的概念和关系。在分布式系统中，由于网络分区的存在，无法同时满足 CAP 理论的三个特性，通常需要在一致性和可用性之间进行权衡。BASE 理论是对 CAP 理论的一种妥协，强调系统的可用性和最终一致性。</li>
  <li><strong>微服务拆分原则</strong>：掌握微服务拆分的原则，如单一职责原则、高内聚低耦合原则、业务边界清晰原则等。能够根据业务需求和系统架构合理拆分微服务，提高系统的可维护性和可扩展性。</li>
</ul>

<h3 id="8-项目经验">8. 项目经验</h3>
<ul>
  <li><strong>STAR 法则</strong>：使用 STAR 法则来描述项目，STAR 分别代表 Situation（情景）、Task（任务）、Action（行动）和 Result（结果）。在描述项目时，先介绍项目的背景和目标（Situation），然后说明自己在项目中承担的任务和职责（Task），接着阐述为完成任务采取的具体行动和措施（Action），最后说明项目取得的成果和收益（Result）。</li>
  <li><strong>突出技术难点与解决方案</strong>：在描述项目时，要突出项目中遇到的技术难点和挑战，并详细说明自己是如何解决这些问题的。例如，在处理高并发问题时，采用了哪些技术手段（如缓存、限流、异步处理等）来提高系统的性能和可用性。通过突出技术难点和解决方案，可以展示自己的技术能力和解决问题的能力。</li>
</ul>

  </div><a class="u-url" href="/blog/java/2025/06/03/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <h2 class="footer-heading"></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name"></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
